import{B as St,fb as Ge,h as wt,lb as Ot,mb as Tt}from"./chunk-3T2YDF45.mjs";import{w as ye,x as ze}from"./chunk-BFTH3AA7.mjs";import{Ha as _t,Ia as kt,a as Ke,c as Ye,d as qe,j as bt}from"./chunk-RW4R7QTB.mjs";import{e as sr,f as Ze}from"./chunk-4KWPUDVF.mjs";import{b as Xe}from"./chunk-MDTOMF5B.mjs";import{d as fe}from"./chunk-3RV33U4O.mjs";function Lt(n){var i=Math.floor(n/3600),c=Math.floor(n%3600/60);return"".concat(i?"".concat(i," h"):"").concat(i&&c?" ":"").concat(c||!i?"".concat(c||Math.floor(n/60)," min"):"")}var lr=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.some(function(s){return c.includes(s)})};function xe(n){return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},xe(n)}function Qe(){"use strict";Qe=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&xe(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(xe(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function At(n){return vr(n)||pr(n)||hr(n)||fr()}function fr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(n,i){if(n){if(typeof n=="string")return Je(n,i);var c={}.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Je(n,i):void 0}}function pr(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vr(n){if(Array.isArray(n))return Je(n)}function Je(n,i){(i==null||i>n.length)&&(i=n.length);for(var c=0,s=Array(i);c<i;c++)s[c]=n[c];return s}function It(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){return void c(y)}l.done?i(d):Promise.resolve(d).then(s,h)}function dr(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){It(v,s,h,p,l,"next",d)}function l(d){It(v,s,h,p,l,"throw",d)}p(void 0)})}}function Et(n){return{invoke:function(){var i=dr(Qe().mark(function s(h){var v,p,l,d,y,T=arguments;return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:for(v=T.length,p=new Array(v>1?v-1:0),l=1;l<v;l++)p[l-1]=T[l];return d=p.map(function(J){return J}),H.next=4,n?.invoke.apply(n,[h.toString()].concat(At(d)));case 4:if(y=H.sent,!y?.hasOwnProperty.call(y,"error")){H.next=7;break}throw y;case 7:return H.abrupt("return",y);case 8:case"end":return H.stop()}},s)}));function c(s){return i.apply(this,arguments)}return c}(),send:function(c){for(var s=arguments.length,h=new Array(s>1?s-1:0),v=1;v<s;v++)h[v-1]=arguments[v];var p=h.map(function(l){return l});n?.send.apply(n,[c.toString()].concat(At(p)))},on:function(c,s){n?.on(c.toString(),function(h){for(var v=arguments.length,p=new Array(v>1?v-1:0),l=1;l<v;l++)p[l-1]=arguments[l];s.apply(void 0,p)})},off:function(c){n?.removeAllListeners(c.toString())}}}var he;(function(n){n[n.SEND_MSG=0]="SEND_MSG",n[n.REPLY_MSG=1]="REPLY_MSG",n.SET_STORE="SET_STORE",n.GET_STORE="GET_STORE",n.SET_PROXY="SET_PROXY",n.CLEAR_PROXY="CLEAR_PROXY",n.GET_COOKIES="GET_COOKIES",n.GET_PRELOAD_PATH="GET_PRELOAD_PATH",n.GET_WEBVIEW_STORE="GET_WEBVIEW_STORE",n.ON_OF_LOGIN="ON_OF_LOGIN",n.TOGGLE_MSG_PANEL="TOGGLE_MSG_PANEL",n.SET_ACCESS_TOKEN="SET_ACCESS_TOKEN",n.CREATE_BROWSER_VIEW="CREATE_BROWSER_VIEW",n.UPDATE_BROWSER_VIEW="UPDATE_BROWSER_VIEW",n.HIDE_BROWSER_VIEW="HIDE_BROWSER_VIEW",n.GET_ACCESS_TOKEN="GET_ACCESS_TOKEN",n.REFRESH_BROWSER_VIEW="REFRESH_BROWSER_VIEW",n.SET_BASE_URL="SET_BASE_URL",n.IS_WINDOWS="IS_WINDOWS",n.MINIMIZE="MINIMIZE",n.MAXIMIZE="MAXIMIZE",n.CLOSE="CLOSE",n.GET_GLOBAL_SHARED_STATE="GET_GLOBAL_SHARED_STATE",n.SET_GLOBAL_SHARED_STATE="SET_GLOBAL_SHARED_STATE",n.START_HOT_UPGRADE="START_HOT_UPGRADE",n.START_FULL_PGRADE="START_FULL_UPGRADE",n.GET_BROWSER_INFO="GET_BROWSER_INFO",n.LOGOUT="LOGOUT",n.CLOSE_ALL_BROWSER_VIEW="CLOSE_ALL_BROWSER_VIEW",n.OPEN_URL="OPEN_URL",n.SWITCH_PROXY="SWITCH_PROXY",n.INIT_OF_API_RULES="INIT_OF_API_RULES",n.GET_OF_UNREAD_COUNT="GET_OF_UNREAD_COUNT",n.CREATE_WINDOW="CREATE_WINDOW",n.PAGE_GO_FAIL="PAGE_GO_FAIL",n.EXIT_APP="EXIT_APP",n.SENTRY_SCOPE="SENTRY_SCOPE",n.TEST_PAGE_LOAD_TIME="TEST_PAGE_LOAD_TIME",n.OF_MSGURL_CHANGE="OF_MSGURL_CHANGE",n.OF_GET_SCRIPT_URL="OF_GET_SCRIPT_URL",n.WINDOW_FOCUS="WINDOW_FOCUS",n.CHECK_PROXY="CHECK_PROXY",n.GET_SIGN_RESULT="GET_SIGN_RESULT",n.ON_OF_SET_FILE_INPUT="ON_OF_SET_FILE_INPUT",n.WRITE_LOG="WRITE_LOG",n.NATIVE_ALERT="NATIVE_ALERT",n.SET_PROXY_CHANNEL="SET_PROXY_CHANNEL",n.SET_DEFAULT_PROXY_CHANNEL="SET_DEFAULT_PROXY_CHANNEL",n.CREATE_TAB="CREATE_TAB",n.TAB_DATA_CHANGE="TAB_DATA_CHANGE",n.IS_WINDOW_FOCUS="IS_WINDOW_FOCUS",n.GO_NETWORK_PAGE="GO_NETWORK_PAGE",n.EMIT_CHANGE_THEME="EMIT_CHANGE_THEME",n.GET_GLOBAL_LOCAL_THEME="GET_GLOBAL_LOCAL_THEME",n.SWITCH_MODEL="SWITCH_MODEL",n.MULTI_WINDOW_URL_CHANGE="MULTI_WINDOW_URL_CHANGE",n.TOKEN_EXPIRED="TOKEN_EXPIRED",n.CREATE_NEW_ACCOUNT="CREATE_NEW_ACCOUNT",n.SWITCH_ACCOUNT="SWITCH_ACCOUNT",n.CREATE_NEW_ACCOUNT_WINDOW="CREATE_NEW_ACCOUNT_WINDOW",n.DELETE_ACCOUNT="DELETE_ACCOUNT",n.DESTROY_VIEW_BY_UUID="DESTROY_VIEW_BY_UUID",n.GET_ACCOUNT_INFO="GET_ACCOUNT_INFO",n.SWITCH_THEME_CLEAR_STYLE="SWITCH_THEME_CLEAR_STYLE",n.LITE_BACK_TO_MAIN="LITE_BACK_TO_MAIN",n.SYNC_UNREAD_COUNT="SYNC_UNREAD_COUNT",n.FORCUS_MAIN_VIEW_PAGE="FORCUS_MAIN_VIEW_PAGE",n.DETECT_NETWORK="DETECT_NETWORK",n.SET_WINDOW_TITLE="SET_WINDOW_TITLE",n.SEND_MESSAGE_TO_WINDOW="SEND_MESSAGE_TO_WINDOW",n.SET_CUSTOM_STORE="SET_CUSTOM_STORE",n.GET_CUSTOM_STORE="GET_CUSTOM_STORE",n.REMOVE_STORE="REMOVE_STORE"})(he||(he={}));var ke;(function(n){n.UPDATE_CHAT_URL="UPDATE_CHAT_URL",n.UPDATE_MESSAGE_UNREAD_TOTAL="UPDATE_MESSAGE_UNREAD_TOTAL",n.HOT_UPGRADE_PROGRESS="HOT_UPGRADE_PROGRESS",n.UPDATE_HOT_UPGRADE_STATUS="UPDATE_HOT_UPGRADE_STATUS",n.FULL_UPGRADE_PROGRESS="FULL_UPGRADE_PROGRESS",n.UPDATE_FULL_UPGRADE_STATUS="UPDATE_FULL_UPGRADE_STATUS",n.SHOW_DATA_PANEL_ICON="SHOW_DATA_PANEL_ICON",n.PAGE_LOAD_FAIL="PAGE_LOAD_FAIL",n.PAGE_GO="PAGE_GO",n.PAGE_LOAD_SUCCESS="PAGE_LOAD_SUCCESS",n.UPDATE_OF_URL="UPDATE_OF_URL",n.INIT_MESSAGE_UNREAD_TOTAL="INIT_MESSAGE_UNREAD_TOTAL",n.NEW_MESSAGE="NEW_MESSAGE",n.OF_NOTIFICATION="OF_NOTIFICATION",n.CONSOLE="CONSOLE",n.SEND_LOCATION="SEND_LOCATION",n.SPEED="SPEED",n.CREATE_BROWSER_VIEW="CREATE_BROWSER_VIEW",n.CREATE_BROWSER_TAB="CREATE_BROWSER_TAB",n.GO_NETWORK_PAGE="GO_NETWORK_PAGE",n.SWITCH_THEME="SWITCH_THEME",n.CREATE_MSG_TAB="CREATE_MSG_TAB",n.DELETE_ACCOUNT="DELETE_ACCOUNT",n.NOTIFICATION_CLICK="NOTIFICATION_CLICK",n.SEND_MESSAGE_TO_WINDOW="SEND_MESSAGE_TO_WINDOW"})(ke||(ke={}));var Pt;(function(n){n.autoMessage="AutoMessage",n.user="Default",n.script="Script",n.mass="Mass",n.vaultUpload="VaultUpload",n.AiChatbot="AiChatbot"})(Pt||(Pt={}));var Mt;(function(n){n[n.user=1]="user",n[n.onlineMM=2]="onlineMM",n[n.ppv=3]="ppv"})(Mt||(Mt={}));var mr=fe(bt(),1);function Gt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,i=Date.now().toString(36),c=Math.random().toString(36).slice(2,n);return i+"-"+c}var Ct;(function(n){n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday"})(Ct||(Ct={}));var gr=fe(bt(),1);var me=Symbol("bindListKey"),Oe=Symbol("eventObject"),Ae=Symbol("eventKey"),Te=Symbol("eventTypes"),wr=function(){function n(i,c){Ye(this,n),this[Oe]=void 0,this[Ae]=void 0,this[Te]={},this[Oe]=i,c?this[Ae]=c:this[Ae]=Gt()}return qe(n,[{key:"on",value:function(c,s,h){this[Oe].on(this[Ae],c,s,h),this[Te]||(this[Te]={}),this[Te][c]=!0}},{key:"once",value:function(c,s){this.on(c,s,"once")}},{key:"emit",value:function(c){for(var s,h=arguments.length,v=new Array(h>1?h-1:0),p=1;p<h;p++)v[p-1]=arguments[p];(s=this[Oe]).emit.apply(s,[c].concat(v))}},{key:"emitOnce",value:function(c){for(var s,h=arguments.length,v=new Array(h>1?h-1:0),p=1;p<h;p++)v[p-1]=arguments[p];(s=this[Oe]).emitOnce.apply(s,[c].concat(v))}},{key:"off",value:function(c){this[Oe].off(this[Ae],c),delete this[Te][c]}},{key:"offAll",value:function(){for(var c in this[Te])this.off(c)}}])}(),xt=function(){function n(){Ye(this,n),this[me]=void 0,this[me]=new Map}return qe(n,[{key:"on",value:function(c,s,h){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"every",p=this[me],l=p.get(s);return l||(l=new Map,p.set(s,l)),l.set(c,{key:c,type:s,bindType:v,fn:h}),{key:c,type:s,fn:h}}},{key:"once",value:function(c,s,h){this.on(c,s,h,"once")}},{key:"exe",value:function(c){for(var s=arguments.length,h=new Array(s>1?s-1:0),v=1;v<s;v++)h[v-1]=arguments[v];return this.emit.apply(this,[c].concat(h))}},{key:"emit",value:function(c){for(var s=this,h=arguments.length,v=new Array(h>1?h-1:0),p=1;p<h;p++)v[p-1]=arguments[p];var l=this[me],d=l.get(c),y=0;return d&&d.forEach(function(T){T?.fn.apply(T,v),y++,T.bindType==="once"&&s.off(T.key,T.type)}),y}},{key:"emitOnce",value:function(c){var s=this[me],h=s.get(c);if(!!h){for(var v=Ke(h.values())[h.size-1],p=arguments.length,l=new Array(p>1?p-1:0),d=1;d<p;d++)l[d-1]=arguments[d];v?.fn.apply(v,l),v.bindType==="once"&&this.off(v.key,v.type)}}},{key:"unbind",value:function(c,s){this.off(c,s)}},{key:"off",value:function(c,s){var h=this[me],v=h.get(s);v&&v.delete(c)}},{key:"createGroup",value:function(c){return new wr(this,c)}},{key:"clear",value:function(c){var s=this[me];c?s.delete(c):s.clear()}}])}();var mn=Symbol("taskData");function we(n){return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},we(n)}function ge(){"use strict";ge=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&we(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(we(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Wt(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){return void c(y)}l.done?i(d):Promise.resolve(d).then(s,h)}function Ve(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Wt(v,s,h,p,l,"next",d)}function l(d){Wt(v,s,h,p,l,"throw",d)}p(void 0)})}}function br(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function Dt(n,i){for(var c=0;c<i.length;c++){var s=i[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,_r(s.key),s)}}function Sr(n,i,c){return i&&Dt(n.prototype,i),c&&Dt(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n}function _r(n){var i=kr(n,"string");return we(i)=="symbol"?i:i+""}function kr(n,i){if(we(n)!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var s=c.call(n,i||"default");if(we(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}var Or=function(){function n(){br(this,n),this.event=new xt}return Sr(n,[{key:"getGlocalLocalTheme",value:function(){var i=Ve(ge().mark(function s(){var h;return ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ae.invoke(he.GET_GLOBAL_LOCAL_THEME);case 2:return h=p.sent,p.abrupt("return",h?.data);case 4:case"end":return p.stop()}},s)}));function c(){return i.apply(this,arguments)}return c}()},{key:"sendLiteBackToMain",value:function(){var i=Ve(ge().mark(function s(h){return ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:ae.send(he.LITE_BACK_TO_MAIN,h);case 1:case"end":return p.stop()}},s)}));function c(s){return i.apply(this,arguments)}return c}()},{key:"getGlobalSharedState",value:function(){var i=Ve(ge().mark(function s(){var h;return ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ae.invoke(he.GET_GLOBAL_SHARED_STATE,{});case 2:return h=p.sent,p.abrupt("return",h?.data);case 4:case"end":return p.stop()}},s)}));function c(){return i.apply(this,arguments)}return c}()},{key:"sendMessageToLite",value:function(c){ae.send(he.SEND_MESSAGE_TO_WINDOW,{channel:"lite",data:c})}},{key:"sendMessageToWeb",value:function(c){ae.send(he.SEND_MESSAGE_TO_WINDOW,{channel:"web",data:c})}},{key:"sendMessageToPreload",value:function(c){ae.send(he.SEND_MESSAGE_TO_WINDOW,{channel:"preload",data:c})}},{key:"on",value:function(c,s,h){this.event.on(c,s,h)}},{key:"off",value:function(c,s){this.event.off(c,s)}}])}();var ee=new Or;var Tr=window,Lr=Tr.ipcRenderer,ae=Et(Lr);function jt(){ae?.on(ke.SWITCH_THEME,function(n){ee.event.emit("onSwitchTheme",n)}),ae?.on(ke.NOTIFICATION_CLICK,function(n){ee.event.emit("onNotificationClick",n)}),ae?.on(ke.SEND_MESSAGE_TO_WINDOW,function(n){ee.event.emit("onClientMessage",n)})}function be(n){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},be(n)}function pe(){"use strict";pe=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&be(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(be(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Nt(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){return void c(y)}l.done?i(d):Promise.resolve(d).then(s,h)}function We(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Nt(v,s,h,p,l,"next",d)}function l(d){Nt(v,s,h,p,l,"throw",d)}p(void 0)})}}function Ar(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function Ft(n,i){for(var c=0;c<i.length;c++){var s=i[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,Er(s.key),s)}}function Ir(n,i,c){return i&&Ft(n.prototype,i),c&&Ft(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n}function Er(n){var i=Pr(n,"string");return be(i)=="symbol"?i:i+""}function Pr(n,i){if(be(n)!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var s=c.call(n,i||"default");if(be(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}var ie;(function(n){n.SwitchSfw="switch-sfw",n.RequestImMonitorData="request-im-monitor-data",n.ReplyImMonitorData="reply-im-monitor-data",n.ClockStatus="clock-status",n.FreshClockInList="fresh-clock-in-list"})(ie||(ie={}));var Mr=function(){function n(){Ar(this,n),this.id=Math.random().toString(16).slice(2),this.ipcEvents=ee,this.globalShareState=void 0,this._hadInitGlobalShareState=!1}return Ir(n,[{key:"init",value:function(){jt()}},{key:"getGlocalLocalTheme",value:function(){var i=We(pe().mark(function s(){return pe().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",ee.getGlocalLocalTheme());case 1:case"end":return v.stop()}},s)}));function c(){return i.apply(this,arguments)}return c}()},{key:"showMainWindow",value:function(){var i=We(pe().mark(function s(h){return pe().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ee.sendLiteBackToMain(h);case 2:case"end":return p.stop()}},s)}));function c(s){return i.apply(this,arguments)}return c}()},{key:"getGlobalSharedState",value:function(){var i=We(pe().mark(function s(){var h,v=arguments;return pe().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(h=v.length>0&&v[0]!==void 0?v[0]:!1,!(!h&&this._hadInitGlobalShareState)){l.next=3;break}return l.abrupt("return",this.globalShareState);case 3:return l.next=5,ee.getGlobalSharedState();case 5:return this.globalShareState=l.sent,this._hadInitGlobalShareState=!0,l.abrupt("return",this.globalShareState);case 8:case"end":return l.stop()}},s,this)}));function c(){return i.apply(this,arguments)}return c}()},{key:"initGlobalSharedState",value:function(){var i=We(pe().mark(function s(){return pe().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",this.getGlobalSharedState());case 1:case"end":return v.stop()}},s,this)}));function c(){return i.apply(this,arguments)}return c}()},{key:"getMachineCode",value:function(){var c;return((c=this.globalShareState)===null||c===void 0?void 0:c.machineCode)||"-"}},{key:"sendMessageToWeb",value:function(c){ee.sendMessageToWeb(c)}},{key:"sendMessageToLite",value:function(c){ee.sendMessageToLite(c)}},{key:"sendMessageToPreload",value:function(c){ee.sendMessageToPreload(c)}},{key:"emitWebSwitchSfw",value:function(c){this.sendMessageToWeb({key:ie.SwitchSfw,data:c})}},{key:"emitLiteSwitchSfw",value:function(c){this.sendMessageToLite({key:ie.SwitchSfw,data:c})}},{key:"emitPreloadSwitchSfw",value:function(c){this.sendMessageToPreload({key:ie.SwitchSfw,data:c})}},{key:"onSwitchSfw",value:function(c){ee.on("".concat(this.id,":onSwitchSfw"),"onClientMessage",function(s){s.key===ie.SwitchSfw&&c(s.data)})}},{key:"offSwitchSfw",value:function(){ee.off("".concat(this.id,":onSwitchSfw"),"onClientMessage")}},{key:"onRequestImMonitorData",value:function(c){ee.on("".concat(this.id,":onRequestImMonitorData"),"onClientMessage",function(s){s.key===ie.RequestImMonitorData&&c(s.data)})}},{key:"offRequestImMonitorData",value:function(){ee.off("".concat(this.id,":onRequestImMonitorData"),"onClientMessage")}},{key:"emitRequestImMonitorData",value:function(c){this.sendMessageToWeb({key:ie.RequestImMonitorData,data:c})}},{key:"onReplyImMonitorData",value:function(c){ee.on("".concat(this.id,":onReplyImMonitorData"),"onClientMessage",function(s){s.key===ie.ReplyImMonitorData&&c(s.data)})}},{key:"offReplyImMonitorData",value:function(){ee.off("".concat(this.id,":onReplyImMonitorData"),"onClientMessage")}},{key:"emitReplyImMonitorData",value:function(c){this.sendMessageToLite({key:ie.ReplyImMonitorData,data:c})}},{key:"emitWebClockStatus",value:function(c){this.sendMessageToWeb({key:ie.ClockStatus,data:c})}},{key:"emitLiteClockStatus",value:function(c){this.sendMessageToLite({key:ie.ClockStatus,data:c})}},{key:"emitPreloadClockStatusw",value:function(c){this.sendMessageToPreload({key:ie.ClockStatus,data:c})}},{key:"onClockStatus",value:function(c){ee.on("".concat(this.id,":onClockStatus"),"onClientMessage",function(s){s.key===ie.ClockStatus&&c(s.data)})}},{key:"emitWebFreshClockInList",value:function(c){this.sendMessageToWeb({key:ie.FreshClockInList,data:c})}},{key:"onFreshClockInList",value:function(c){ee.on("".concat(this.id,":onFreshClockInList"),"onClientMessage",function(s){s.key===ie.FreshClockInList&&c(s.data)})}}])}(),le=new Mr;var et;(function(n){n[n.NewMessage=1]="NewMessage",n[n.UnreadMessage=2]="UnreadMessage",n[n.Notification=3]="Notification"})(et||(et={}));var ct=fe(sr(),1),ue=fe(Xe(),1);var Ne=fe(Xe(),1);function De(n){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},De(n)}function rt(){"use strict";rt=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&De(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw new Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(De(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Ut(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){c(y);return}l.done?i(d):Promise.resolve(d).then(s,h)}function Cr(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Ut(v,s,h,p,l,"next",d)}function l(d){Ut(v,s,h,p,l,"throw",d)}p(void 0)})}}var Ie=new Map,Gr=1e3;function xr(){var n=Date.now();Ie.forEach(function(){var i=Cr(rt().mark(function c(s){return rt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s.enable){v.next=2;break}return v.abrupt("return");case 2:n>s.nextTime&&(s.lastTime=n,s.nextTime=n+s.config.interval,s.task());case 3:case"end":return v.stop()}},c)}));return function(c){return i.apply(this,arguments)}}())}var tt=null;function Rt(){tt&&clearTimeout(tt),xr(),tt=setTimeout(function(){Rt()},Gr)}Rt();function Ee(n,i,c){var s=Ie.get(n);if(!s){var h=Date.now()+i.interval;i.runOnCreated&&(h=0),Ie.set(n,{key:n,config:i,task:c,enable:!0,lastTime:0,nextTime:h})}}function re(n){var i=Ie.get(n);i&&Ie.delete(n)}function je(n){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},je(n)}function nt(){"use strict";nt=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&je(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw new Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(je(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Ht(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){c(y);return}l.done?i(d):Promise.resolve(d).then(s,h)}function Wr(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Ht(v,s,h,p,l,"next",d)}function l(d){Ht(v,s,h,p,l,"throw",d)}p(void 0)})}}function Dr(n,i){return Ur(n)||Fr(n,i)||Nr(n,i)||jr()}function jr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(n,i){if(!!n){if(typeof n=="string")return Bt(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Bt(n,i)}}function Bt(n,i){(i==null||i>n.length)&&(i=n.length);for(var c=0,s=new Array(i);c<i;c++)s[c]=n[c];return s}function Fr(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,h,v,p,l=[],d=!0,y=!1;try{if(v=(c=c.call(n)).next,i===0){if(Object(c)!==c)return;d=!1}else for(;!(d=(s=v.call(c)).done)&&(l.push(s.value),l.length!==i);d=!0);}catch(T){y=!0,h=T}finally{try{if(!d&&c.return!=null&&(p=c.return(),Object(p)!==p))return}finally{if(y)throw h}}return l}}function Ur(n){if(Array.isArray(n))return n}var Rr=function(i){var c=i.time,s=i.ifaSDK,h=i.ActiveMouseTime,v=(0,Ne.useState)(void 0),p=Dr(v,2),l=p[0],d=p[1],y=function(){d(!0)},T=function(){re("HandleMouseMove"),Ee("HandleMouseMove",{interval:1e3*10},Wr(nt().mark(function J(){var Y,W,w,B;return nt().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,s?.getPersistStorage(h);case 2:Y=b.sent,W=Y?.data,W&&(w=Date.now(),B=(w-W)/(1e3*60),B>=c&&(d(!1),re("HandleMouseMove")));case 5:case"end":return b.stop()}},J)})))},F=function(){d(void 0),re("HandleMouseMove")};return(0,Ne.useEffect)(function(){return l&&T(),function(){re("HandleMouseMove")}},[l]),{isMouseMoveValid:l,startMouseMoveDetection:y,stopMouseTask:F}},$t=Rr;var Kt={modalContent:"_modalContent_rjlp4_21"};function Fe(n){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Fe(n)}function Se(){"use strict";Se=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&Fe(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw new Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(Fe(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Yt(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){c(y);return}l.done?i(d):Promise.resolve(d).then(s,h)}function ut(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Yt(v,s,h,p,l,"next",d)}function l(d){Yt(v,s,h,p,l,"throw",d)}p(void 0)})}}function qt(n){return ot.apply(this,arguments)}function ot(){return ot=ut(Se().mark(function n(i){var c;return Se().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.get("/sign/in_manual",{});case 2:return c=h.sent,h.abrupt("return",c);case 4:case"end":return h.stop()}},n)})),ot.apply(this,arguments)}function Xt(n){return at.apply(this,arguments)}function at(){return at=ut(Se().mark(function n(i){var c;return Se().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.get("/sign/out_manual",{});case 2:return c=h.sent,h.abrupt("return",c);case 4:case"end":return h.stop()}},n)})),at.apply(this,arguments)}function zt(n){return it.apply(this,arguments)}function it(){return it=ut(Se().mark(function n(i){var c;return Se().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.get("/sign/in_renew",{});case 2:return c=h.sent,h.abrupt("return",c);case 4:case"end":return h.stop()}},n)})),it.apply(this,arguments)}var de=fe(Ze(),1),st=fe(Ze(),1),Jt=fe(Ze(),1);function Ue(n){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ue(n)}function R(){"use strict";R=function(){return i};var n,i={},c=Object.prototype,s=c.hasOwnProperty,h=Object.defineProperty||function(r,e,t){r[e]=t.value},v=typeof Symbol=="function"?Symbol:{},p=v.iterator||"@@iterator",l=v.asyncIterator||"@@asyncIterator",d=v.toStringTag||"@@toStringTag";function y(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function T(r,e,t,o){var u=e&&e.prototype instanceof B?e:B,a=Object.create(u.prototype),f=new $(o||[]);return h(a,"_invoke",{value:oe(r,t,f)}),a}function F(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(o){return{type:"throw",arg:o}}}i.wrap=T;var H="suspendedStart",J="suspendedYield",Y="executing",W="completed",w={};function B(){}function C(){}function b(){}var U={};y(U,p,function(){return this});var q=Object.getPrototypeOf,D=q&&q(q(x([])));D&&D!==c&&s.call(D,p)&&(U=D);var E=b.prototype=B.prototype=Object.create(U);function j(r){["next","throw","return"].forEach(function(e){y(r,e,function(t){return this._invoke(e,t)})})}function N(r,e){function t(u,a,f,m){var g=F(r[u],r,a);if(g.type!=="throw"){var L=g.arg,k=L.value;return k&&Ue(k)=="object"&&s.call(k,"__await")?e.resolve(k.__await).then(function(A){t("next",A,f,m)},function(A){t("throw",A,f,m)}):e.resolve(k).then(function(A){L.value=A,f(L)},function(A){return t("throw",A,f,m)})}m(g.arg)}var o;h(this,"_invoke",{value:function(a,f){function m(){return new e(function(g,L){t(a,f,g,L)})}return o=o?o.then(m,m):m()}})}function oe(r,e,t){var o=H;return function(u,a){if(o===Y)throw new Error("Generator is already running");if(o===W){if(u==="throw")throw a;return{value:n,done:!0}}for(t.method=u,t.arg=a;;){var f=t.delegate;if(f){var m=Z(f,t);if(m){if(m===w)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(o===H)throw o=W,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);o=Y;var g=F(r,e,t);if(g.type==="normal"){if(o=t.done?W:J,g.arg===w)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(o=W,t.method="throw",t.arg=g.arg)}}}function Z(r,e){var t=e.method,o=r.iterator[t];if(o===n)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=n,Z(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),w;var u=F(o,r.iterator,e.arg);if(u.type==="throw")return e.method="throw",e.arg=u.arg,e.delegate=null,w;var a=u.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,w):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function te(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function X(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function $(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(te,this),this.reset(!0)}function x(r){if(r||r===""){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,o=function u(){for(;++t<r.length;)if(s.call(r,t))return u.value=r[t],u.done=!1,u;return u.value=n,u.done=!0,u};return o.next=o}}throw new TypeError(Ue(r)+" is not iterable")}return C.prototype=b,h(E,"constructor",{value:b,configurable:!0}),h(b,"constructor",{value:C,configurable:!0}),C.displayName=y(b,d,"GeneratorFunction"),i.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return!!e&&(e===C||(e.displayName||e.name)==="GeneratorFunction")},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,b):(r.__proto__=b,y(r,d,"GeneratorFunction")),r.prototype=Object.create(E),r},i.awrap=function(r){return{__await:r}},j(N.prototype),y(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(r,e,t,o,u){u===void 0&&(u=Promise);var a=new N(T(r,e,t,o),u);return i.isGeneratorFunction(e)?a:a.next().then(function(f){return f.done?f.value:a.next()})},j(E),y(E,d,"Generator"),y(E,p,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),i.keys=function(r){var e=Object(r),t=[];for(var o in e)t.push(o);return t.reverse(),function u(){for(;t.length;){var a=t.pop();if(a in e)return u.value=a,u.done=!1,u}return u.done=!0,u}},i.values=x,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!e)for(var t in this)t.charAt(0)==="t"&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(L,k){return f.type="throw",f.arg=e,t.next=L,k&&(t.method="next",t.arg=n),!!k}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],f=a.completion;if(a.tryLoc==="root")return o("end");if(a.tryLoc<=this.prev){var m=s.call(a,"catchLoc"),g=s.call(a,"finallyLoc");if(m&&g){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(m){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&s.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=e,f.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(f)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),X(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var u=o.completion;if(u.type==="throw"){var a=u.arg;X(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=n),w}},i}function Zt(n,i,c,s,h,v,p){try{var l=n[v](p),d=l.value}catch(y){c(y);return}l.done?i(d):Promise.resolve(d).then(s,h)}function ne(n){return function(){var i=this,c=arguments;return new Promise(function(s,h){var v=n.apply(i,c);function p(d){Zt(v,s,h,p,l,"next",d)}function l(d){Zt(v,s,h,p,l,"throw",d)}p(void 0)})}}function Pe(n,i){return Kr(n)||$r(n,i)||Br(n,i)||Hr()}function Hr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Br(n,i){if(!!n){if(typeof n=="string")return Qt(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Qt(n,i)}}function Qt(n,i){(i==null||i>n.length)&&(i=n.length);for(var c=0,s=new Array(i);c<i;c++)s[c]=n[c];return s}function $r(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,h,v,p,l=[],d=!0,y=!1;try{if(v=(c=c.call(n)).next,i===0){if(Object(c)!==c)return;d=!1}else for(;!(d=(s=v.call(c)).done)&&(l.push(s.value),l.length!==i);d=!0);}catch(T){y=!0,h=T}finally{try{if(!d&&c.return!=null&&(p=c.return(),Object(p)!==p))return}finally{if(y)throw h}}return l}}function Kr(n){if(Array.isArray(n))return n}var Vt=ue.default.forwardRef(function(n,i){var c=n.basicRouters,s=c===void 0?[]:c,h=n.scriptRouters,v=h===void 0?[]:h,p=n.minutes,l=n.ifaSDK,d=n.Client,y=n.userInfo,T=n.onHideButton,F=n.sendMessageToLite,H=n.sendMessageToWeb,J=s.concat(["/of-manager","/fansly-manager"]),Y=v.concat(["/fansly/script","/admin/growth/pro-written"]),W={clockIn:"Confirm clock in?",clockOut:"Confirm clock out?",autoClockIn:"You seem to be using Infloww for work. Do you want to clock in?",autoClockOut:"You have been clocked out due to inactivity",netError:"You have been clocked out as your internet connection was lost."},w=(0,ue.useState)(!1),B=Pe(w,2),C=B[0],b=B[1],U=(0,ue.useRef)(null),q=(0,ue.useState)(!1),D=Pe(q,2),E=D[0],j=D[1],N=(0,ue.useState)(!1),oe=Pe(N,2),Z=oe[0],te=oe[1],X=(0,ue.useState)(void 0),$=Pe(X,2),x=$[0],r=$[1],e=y.employeeId,t=e===void 0?"":e,o="SignRecoderTime-".concat(t),u="StartRecoderTime-".concat(t),a="ActiveMouseTime-".concat(t),f="IsClockIn-".concat(t),m="ActiveWindow-".concat(t),g=localStorage.getItem("__mid__"),L={clockIn:"Clock in successful",clockOut:"Clock out successful",autoClockIn:"Clock in successful",autoClockOut:"You have been clocked out due to inactivity"},k=$t({time:p,ifaSDK:l,ActiveMouseTime:a}),A=k.isMouseMoveValid,ht=k.startMouseMoveDetection,pt=k.stopMouseTask,Re=function(){b(!1),_e(0),j(!1),r(void 0),Ce(),re("ClockTimeInterval"),re("ClockTimeRenew"),re("HandleMouseMove"),re("HandleKeyDown")};Ge(ne(R().mark(function P(){var O,_,I,S,M,Q;return R().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,l?.getPersistStorage("activeClient");case 2:return O=V.sent,V.next=5,l?.getPersistStorage(f);case 5:_=V.sent,O?.data,I=O?.data,_!=null&&_.data&&A===!1&&(M=d==="Web"&&J.some(function(G){var K;return(K=location)===null||K===void 0||(K=K.href)===null||K===void 0?void 0:K.includes(G)})&&!((S=document)!==null&&S!==void 0&&S.querySelector('[class^="_page-error_"]')),Q=Y.some(function(G){var K;return(K=location)===null||K===void 0||(K=K.href)===null||K===void 0?void 0:K.includes(G)}),I==="Web"&&M&&!Q||I==="Preload"?le.emitPreloadClockStatusw({type:"autoClockOutPreload",data:!0}):I==="Web"?(r("autoClockOut"),j(!0),ve("out",!0)):I==="Pro"&&le.emitLiteClockStatus({type:"autoClockOutPro",data:!0}));case 9:case"end":return V.stop()}},P)})),[A]);var Me=function(O){(O.type==="sign"||O.type==="showNetError")&&d==="Web"&&le.emitWebClockStatus(O),d!=="Web"&&le.emitWebClockStatus(O),d!=="Pro"&&le.emitLiteClockStatus(O),d!=="Preload"&&le.emitPreloadClockStatusw(O),d==="Preload"&&(H&&H(O),F&&F(O))},vt=function(O){le.emitWebFreshClockInList(O)};(0,ue.useEffect)(function(){var P=function(){var _=ne(R().mark(function I(){var S,M;return R().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,l?.getPersistStorage(f);case 2:if(S=z.sent,!(S!=null&&S.data||C)){z.next=7;break}return M=Date.now(),z.next=7,l?.setPersistStorage(a,M);case 7:case"end":return z.stop()}},I)}));return function(){return _.apply(this,arguments)}}(),O=function(){var _=ne(R().mark(function I(){var S,M,Q,z,V,G,K;return R().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,l?.getPersistStorage(m);case 2:return M=ce.sent,Q=d==="Web"&&J.some(function($e){var se;return(se=location)===null||se===void 0||(se=se.href)===null||se===void 0?void 0:se.includes($e)})&&!((S=document)!==null&&S!==void 0&&S.querySelector('[class^="_page-error_"]')),z=Y.some(function($e){var se;return(se=location)===null||se===void 0||(se=se.href)===null||se===void 0?void 0:se.includes($e)}),ce.next=7,l?.getPersistStorage(o);case 7:return V=ce.sent,ce.next=10,l?.getPersistStorage(f);case 10:if(G=ce.sent,K=Date.now()-Number(V?.data||0)>36e5,!(C||!K||G!=null&&G.data||M?.data!==g&&d==="Preload")){ce.next=14;break}return ce.abrupt("return");case 14:if(!(Q&&!z)){ce.next=17;break}return le.emitPreloadClockStatusw({type:"openPreload",data:"autoClockIn"}),ce.abrupt("return");case 17:r("autoClockIn"),j(!0);case 19:case"end":return ce.stop()}},I)}));return function(){return _.apply(this,arguments)}}();return window.addEventListener("mousemove",P),window.addEventListener("keydown",O),function(){window.removeEventListener("keydown",O),window.removeEventListener("mousemove",P)}},[C]);var er=function(){var P=ne(R().mark(function O(){return R().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(x!=="autoClockIn"){I.next=3;break}return I.next=3,l?.setPersistStorage(o,Date.now());case 3:j(!1),r(void 0);case 5:case"end":return I.stop()}},O)}));return function(){return P.apply(this,arguments)}}(),dt=function(){ze.error({centered:!0,okText:"Close",icon:null,title:"Time tracking has been disabled",content:"Your agency's administrator has disabled time tracking for your organisation."}),j(!1),T?.(),Me({type:"hideButton",data:!0})},ve=function(){var P=ne(R().mark(function O(_,I){var S,M,Q,z;return R().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(te(!0),G.prev=1,_!=="in"){G.next=35;break}return G.next=5,l?.getPersistStorage(f);case 5:if(S=G.sent,!(S!=null&&S.data)){G.next=11;break}return te(!1),j(!1),r(void 0),G.abrupt("return",ye.error("You are already clocked in"));case 11:return G.next=13,qt(l.request);case 13:if(M=G.sent,M?.status!==0){G.next=32;break}return _e(0),G.next=18,l?.setPersistStorage(o,0);case 18:return G.next=20,l?.setPersistStorage(f,!0);case 20:return G.next=22,l?.setPersistStorage(u,Date.now());case 22:Be(),b(!0),j(!1),d==="Web"&&mt(),d==="Web"&&ht(),ye.success(L[x]),Me({type:"sign",data:!0}),vt(!0),G.next=33;break;case 32:M?.status===1107?dt():ye.error(M?.message);case 33:G.next=60;break;case 35:if(_!=="out"){G.next=51;break}return G.next=38,l?.getPersistStorage(f);case 38:if(Q=G.sent,Q!=null&&Q.data){G.next=44;break}return te(!1),j(!1),r(void 0),G.abrupt("return",ye.error("You are already clocked out"));case 44:return I&&He(),G.next=47,Xt(l.request);case 47:z=G.sent,I||(z?.status===0?He():z?.status===1107?dt():ye.error(z?.message)),G.next=60;break;case 51:if(_!=="renew"){G.next=60;break}return G.prev=52,G.next=55,zt(l.request);case 55:G.next=60;break;case 57:G.prev=57,G.t0=G.catch(52),He(!0);case 60:te(!1),G.next=66;break;case 63:G.prev=63,G.t1=G.catch(1),te(!1);case 66:case"end":return G.stop()}},O,null,[[1,63],[52,57]])}));return function(_,I){return P.apply(this,arguments)}}(),He=function(){var P=ne(R().mark(function O(_){var I;return R().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return Ce(),_e(0),x==="clockOut"&&j(!1),re("HandleMouseMove"),re("HandleKeyDown"),re("ClockTimeRenew"),M.next=8,l?.setPersistStorage(u,0);case 8:return M.next=10,l?.setPersistStorage(o,0);case 10:return M.next=12,l?.setPersistStorage(a,0);case 12:return M.next=14,l?.setPersistStorage(f,!1);case 14:if(d==="Web"&&pt(),b(!1),x==="clockOut"&&ye.success(L[x]),Me({type:"sign",data:!1}),vt(!1),!_){M.next=24;break}return M.next=22,l?.getPersistStorage("activeClient");case 22:I=M.sent,Me({type:"showNetError",data:I?.data});case 24:case"end":return M.stop()}},O)}));return function(_){return P.apply(this,arguments)}}(),tr=function(){var O,_;if(d==="Preload"&&(U==null||(O=U.current)===null||O===void 0?void 0:O.textContent)===W.clockIn){ve("in");return}if(d==="Preload"&&(U==null||(_=U.current)===null||_===void 0?void 0:_.textContent)===W.clockOut){ve("out");return}var I=x==="clockIn"||x==="autoClockIn",S=x==="clockOut";I?ve("in"):S?ve("out"):(x==="autoClockOut"||x==="netError")&&(j(!1),!C&&Re())},Be=function(){or()},Ce=function(){re("ClockTimeInterval")},rr=(0,ue.useState)(0),yt=Pe(rr,2),nr=yt[0],_e=yt[1],or=function(){var P=ne(R().mark(function O(){var _;return R().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,l?.getPersistStorage(u);case 2:_=S.sent,re("ClockTimeInterval"),Ee("ClockTimeInterval",{interval:1e3,runOnCreated:!0},function(){_e((Date.now()-Number(_?.data))/1e3)});case 5:case"end":return S.stop()}},O)}));return function(){return P.apply(this,arguments)}}(),mt=function(){re("ClockTimeRenew"),Ee("ClockTimeRenew",{interval:1e3*60*p/3},ne(R().mark(function O(){var _,I;return R().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,l?.getPersistStorage(f);case 2:_=M.sent,I=_?.data,I&&ve("renew");case 5:case"end":return M.stop()}},O)})))};Ge(ne(R().mark(function P(){var O,_;return R().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,l?.getPersistStorage("activeClient");case 2:return O=S.sent,S.next=5,l?.getPersistStorage(f);case 5:_=S.sent,d==="Pro"&&_!==null&&_!==void 0&&_.data&&(b(!0),Be()),d==="Pro"&&!(_!=null&&_.data)&&(b(!1),_e(0),Ce()),d!==O?.data&&(C?(b(!0),Be(),d==="Web"&&(ht(),mt())):C||(b(!1),Ce(),pt(),_e(0),re("HandleMouseMove"),re("HandleKeyDown"),re("ClockTimeRenew")));case 9:case"end":return S.stop()}},P)})),[C]),Ge(ne(R().mark(function P(){return R().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,ir();case 2:return _.next=4,ar();case 4:case"end":return _.stop()}},P)})),[]);var ar=function(){var P=ne(R().mark(function O(){var _;return R().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(d==="Pro"||d==="Preload")){S.next=10;break}return S.next=3,l?.setPersistStorage("activeClient",d);case 3:return S.next=5,l?.getPersistStorage(u);case 5:if(_=S.sent,_!=null&&_.data){S.next=8;break}return S.abrupt("return");case 8:r("clockIn"),b(!0);case 10:case"end":return S.stop()}},O)}));return function(){return P.apply(this,arguments)}}(),ir=function(){var P=ne(R().mark(function O(){return R().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(d!=="Web"){I.next=8;break}return I.next=3,l?.setPersistStorage(u,0);case 3:return I.next=5,l?.setPersistStorage(f,!1);case 5:return I.next=7,l?.setPersistStorage(a,0);case 7:Re();case 8:case"end":return I.stop()}},O)}));return function(){return P.apply(this,arguments)}}(),gt=function(){var P=ne(R().mark(function O(){var _;return R().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,l?.getPersistStorage("activeClient");case 2:if(_=S.sent,d!==_?.data){S.next=6;break}return S.abrupt("return");case 6:return S.next=8,l?.setPersistStorage("activeClient",d);case 8:case"end":return S.stop()}},O)}));return function(){return P.apply(this,arguments)}}(),ur=function(){var P=ne(R().mark(function O(_){var I,S,M,Q;return R().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return _.stopPropagation(),_.preventDefault(),V.next=4,l?.getPersistStorage("activeClient");case 4:if(S=V.sent,M=d==="Web"&&J.some(function(G){var K;return(K=location)===null||K===void 0||(K=K.href)===null||K===void 0?void 0:K.includes(G)})&&!((I=document)!==null&&I!==void 0&&I.querySelector('[class^="_page-error_"]')),Q=Y.some(function(G){var K;return(K=location)===null||K===void 0||(K=K.href)===null||K===void 0?void 0:K.includes(G)}),!((S?.data==="Preload"&&d==="Web"||M)&&!Q)){V.next=10;break}return le.emitPreloadClockStatusw({type:"openPreload",data:!C}),V.abrupt("return");case 10:r(C?"clockOut":"clockIn"),j(!0);case 12:case"end":return V.stop()}},O)}));return function(_){return P.apply(this,arguments)}}();(0,ue.useImperativeHandle)(i,function(){return{showPreloadClockInModal:function(){var P=ne(R().mark(function _(I){var S;return R().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,l?.getPersistStorage(m);case 2:if(S=Q.sent,S?.data===g){Q.next=5;break}return Q.abrupt("return");case 5:r(I),j(!0);case 7:case"end":return Q.stop()}},_)}));function O(_){return P.apply(this,arguments)}return O}(),showPreloadClockIn:function(O){r(O?"clockIn":"clockOut")},autoClockOut:function(){var P=ne(R().mark(function _(){var I;return R().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,l?.getPersistStorage(m);case 2:if(I=M.sent,I?.data===g){M.next=5;break}return M.abrupt("return");case 5:r("autoClockOut"),j(!0),ve("out");case 8:case"end":return M.stop()}},_)}));function O(){return P.apply(this,arguments)}return O}()}}),(0,ue.useEffect)(function(){return le.onClockStatus(function(P){P.type==="sign"?b(P.data):P.type==="hideButton"?T?.():P.type==="logOut"||P.type==="multiCreator"&&d==="Pro"?Re():P.type==="showNetError"&&P?.data===d?(r("netError"),j(!0)):P.type==="autoClockOutPro"&&(r("autoClockOut"),j(!0),ve("out",!0))}),window.addEventListener("click",gt),function(){window.removeEventListener("click",gt)}},[]);var cr=function(){var P=ne(R().mark(function O(_){return R().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!_){S.next=3;break}return S.next=3,l?.setPersistStorage("activeClient",d);case 3:case"end":return S.stop()}},O)}));return function(_){return P.apply(this,arguments)}}();return(0,st.jsxs)(Jt.Fragment,{children:[(0,st.jsxs)(Ot,{id:C?"SignButton":"",size:"generous",onClick:ur,className:(0,ct.default)("sign-button-".concat(d)),children:[(0,de.jsx)(Tt,{size:"intermediate",style:{marginRight:"var(--sizing-named-micro)"},children:C?(0,de.jsx)(kt,{}):(0,de.jsx)(_t,{})}),(0,de.jsx)("span",{style:{color:"var(--element-emphasis-00)",marginRight:"var(--sizing-named-micro)"},children:C?"Clock out":"Clock in"}),(0,de.jsx)("span",{className:"sign-button-out",children:C&&"".concat(Lt(nr))})]}),(0,de.jsx)(ze,{afterOpenChange:cr,maskClosable:!1,closable:!1,className:(0,ct.default)("sign-modal-".concat(d),x),open:E,onCancel:er,confirmLoading:Z,onOk:tr,okText:x==="autoClockOut"||x==="netError"?"Close":"Yes",title:x==="autoClockIn"?"Clock in":"",centered:!0,children:(0,de.jsx)("div",{ref:U,className:Kt.modalContent,children:W[x]})})]})});Vt.displayName="SignButton";var lt=Vt;var Le=fe(Xe());import{ipcRenderer as ft}from"electron/renderer";function Yr(n){let{minutes:i,ifaSDK:c,Client:s,onHideButton:h}=n,v=(0,Le.useRef)(null),p=localStorage.getItem(wt);return(0,Le.useEffect)(()=>{v?.current&&ft?.on("SEND_MESSAGE_TO_WINDOW",(y,T)=>{if(T.key==="clock-status"){if(T.data.type==="sign"&&v?.current?.showPreloadClockIn(T.data.data),T.data.type==="openPreload"&&v?.current?.showPreloadClockInModal(T.data.data==="autoClockIn"?"autoClockIn":T.data.data?"clockIn":"clockOut"),T.data.type==="autoClockPreload"&&v?.current?.showPreloadClockInModal(T.data.data?"clockIn":"clockOut"),T.data.type==="time"){let F=`SignRecoderTime-${p}`;St(F,Date.now())}T.data.type==="autoClockOutPreload"&&v?.current?.autoClockOut(),T.data.type==="showNetError"&&v?.current?.showNetErrorModal()}})},[v?.current]),Le.default.createElement(lt,{ref:v,sendMessageToWeb:y=>{let T={key:"clock-status",data:y};ft?.send("SEND_MESSAGE_TO_WINDOW",{channel:"web",data:T})},sendMessageToLite:y=>{let T={key:"clock-status",data:y};ft?.send("SEND_MESSAGE_TO_WINDOW",{channel:"lite",data:T})},ifaSDK:c,minutes:i,Client:s,userInfo:{employeeId:p},onHideButton:h})}var Go=Yr;export{lr as a,Go as b};
