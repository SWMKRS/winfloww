import{a as S,b as B}from"../chunk-XBDAX7KP.mjs";import{$a as p,B as l,C as g,Q as f,k as m,q as c,t as d,u}from"../chunk-3T2YDF45.mjs";import{a as s}from"../chunk-6ECCGLPW.mjs";import"../chunk-BFTH3AA7.mjs";import{k as C}from"../chunk-RW4R7QTB.mjs";import"../chunk-4KWPUDVF.mjs";import{b as w}from"../chunk-MDTOMF5B.mjs";import{d as a}from"../chunk-3RV33U4O.mjs";var E=a(w());var y=a(C());import{ipcRenderer as _}from"electron/renderer";function D(){return!!document?.getElementById("signButton")}function A(){let t={key:"clock-status",data:{type:"hideButton",data:!1}};_?.send("SEND_MESSAGE_TO_WINDOW",{channel:"web",data:t})}async function O(){if(await d("body"),D())return;let t=0,i=!1;try{let n=localStorage.getItem(m),r=await p(n);if(r.status==200&&r.data.status==0){let e=r.data.data,I=JSON.parse(sessionStorage.getItem(c)||"[]");i=S(e?.roleIds,I?.map(R=>R.roleId))&&e?.isOpen,t=e?.autoCheckOutMinute,!e?.isOpen&&A()}}catch(n){}if(!i||D())return;let o=u("div",{id:"signButton",innerHTML:""});document?.body?.append(o);let h=()=>{o&&o.remove()};y.default.render(E.default.createElement(B,{Client:"Preload",minutes:t,ifaSDK:{request:f,getPersistStorage:g,setPersistStorage:l},onHideButton:h}),o)}Date.now();s(()=>{import("../main-VBJRMPGR.mjs").then(t=>{Date.now()}),O()});
