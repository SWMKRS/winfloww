import{b as ko}from"./chunk-3EYZ3QJW.mjs";import{$ as ts,A as In,B as Ka,C as Xa,D as Ja,E as Qa,R as Za,Z as es,a as ra,aa as rs,b as No,ba as Mo,ca as ns,da as os,e as la,ea as Er,fa as qu,ga as is,ka as $u,la as Yu,ma as Wu,na as Uu,oa as Bu,pa as Hu,qa as Cn,ra as Pn,sa as Ku,ta as ss}from"./chunk-HJFSCUNO.mjs";import{$ as ia,G as be,H as na,P as Xt,S as xt,Z as oa,aa,ba as sa,bb as ae,c as Ji,cb as Ua,d as Qi,db as Ba,eb as On,f as Zi,gb as Fo,hb as Ha,i as ea,ib as En,lb as as,n as ta,p as ut,sa as ca,t as ke}from"./chunk-3T2YDF45.mjs";import{b as xr,d as da,e as hn,g as pa,h as yn,i as Or,k as ma,l as ft,m as ha,n as ya,o as Lo,p as vn,q as va,r as ga,s as ba,t as gn,u as dt,v as tt,w as Re,x as Jt}from"./chunk-BFTH3AA7.mjs";import{O as Ya,P as Wa,a as To,g as Da,v as Be,x as Zt}from"./chunk-5NVRKAXG.mjs";import{Ca as Fa,Da as Ma,Ea as ka,Fa as Ra,La as za,Ma as Ga,Na as wn,Oa as Sn,Pa as Va,Q as fa,Ra as _n,Sa as qa,Ta as Do,Ua as $a,Va as xn,Ya as Vu,k as mn}from"./chunk-RW4R7QTB.mjs";import{b as ua,f as Na,p as Aa,q as La,t as Qt}from"./chunk-6BP7UWZ6.mjs";import{Aa as bn,M as xa,P as Oa,Ra as Ta,Z as Ea,_ as Ia,o as wa,p as Sa,qa as Ca,va as Pa,z as _a,za as ja}from"./chunk-G23IRTGB.mjs";import{b as Ao,e as _e,f as H}from"./chunk-4KWPUDVF.mjs";import{b as ee}from"./chunk-MDTOMF5B.mjs";import{d as N}from"./chunk-3RV33U4O.mjs";import{contextBridge as Io}from"electron";var cs="__username__",ls="__sign__";var us=async e=>{await Xu(e)};async function Xu(e){let{response:t}=e,{response:r,config:n}=t;try{let i=JSON.parse(r),c=JSON.parse(n.body);if(!i.success)throw new Error("fansly login error");let{username:l,password:p}=c;localStorage.setItem(cs,l),localStorage.setItem(ls,"")}catch(i){}}var fs=async()=>{if(localStorage.getItem("__isLogin__")==="true")return;await ke("app-landing-page-new")&&be.send("ON_FANSLY_TOKEN_EXPIRED",{message:"page is landing-page",url:location.href,browserInfo:JSON.parse(localStorage.getItem(ut))})};var $t=N(ee()),Gi=N(mn());var ye=N(ee()),ou=N(mn());var B=N(ee());var rt={"api-loading":"_api-loading_1el81_2","msg-script":"_msg-script_1el81_16","msg-script-empty":"_msg-script-empty_1el81_23","msg-script-list":"_msg-script-list_1el81_32","msg-script-list-wrap":"_msg-script-list-wrap_1el81_39","msg-script-list-more":"_msg-script-list-more_1el81_52","msg-script-search":"_msg-script-search_1el81_62","msg-script-clear":"_msg-script-clear_1el81_71","msg-script-manage":"_msg-script-manage_1el81_82"};var vs=N(_e()),An=N(ee());var[pt,ze]=ua({isLoadingApi:!1,isError:!1,scriptList:[],scriptParams:{page:1,size:10,tagId:"",text:"",ofModelBindId:"",fansId:"",accountId:""},loading:!1,hasNext:!1,tabList:[],activeTab:null,preview:void 0}),Cr=e=>{ms(e)},ps=(e,t,r,n)=>{let i={page:1,size:10,tagId:"",text:"",ofModelBindId:e,fansId:n?void 0:t,accountId:r,isMassMessage:n};ze.setState({activeTab:null,scriptParams:i,preview:void 0}),Qu(e),ms(i)},ms=async e=>{ze.setState({loading:!0,scriptParams:e});try{let{scriptList:t}=ze.getState(),{status:r,data:n}=await aa({page:e.page,size:e.size,requireTotal:e.requireTotal,tagId:e.tagId,scriptContent:e.text,creatorAccountId:e.ofModelBindId,fansId:e.fansId}),i=n?.status,c=n?.data,l=n?.data?.hasNext,p=c?.items;if(r===200&&i===0&&p){let u=p?.filter(m=>m.media?.length)?.reduce((m=[],y)=>m?.concat(y.media),[]);p?.map(m=>{e.text?(m.scriptNameShow=ds(m.scriptName,e.text),m.scriptContentShow=ds(No(m.scriptContent),e.text)):(m.scriptNameShow=m.scriptName,m.scriptContentShow=No(m.scriptContent)),m.imgs=(m.media?.filter(y=>["image","gif","photo"].indexOf(y.type)>-1)||[])?.length,m.videos=(m.media?.filter(y=>["video"].indexOf(y.type)>-1)||[])?.length,m.audios=(m.media?.filter(y=>["audio"].indexOf(y.type)>-1)||[])?.length})}ze.setState({hasNext:l,loading:!1,scriptList:e.page>1?[...t,...p]:p})}catch{ze.setState({isError:!0,loading:!1})}},hs=e=>{ze.setState({isError:e})},Ju=[{id:null,tagName:"All"}],ys=e=>{ze.setState({activeTab:e.id})},Qu=async e=>{let{status:t,data:r}=await ia({creatorAccountId:e}),n=r?.data;t===200&&r?.status===0&&n&&ze.setState({tabList:[...Ju,...n]})},jn=e=>{ze.getState().isLoadingApi!==e&&ze.setState({isLoadingApi:e})},ds=(e,t)=>{let r=new RegExp("("+t+")","ig"),n='<span style="color:#FD463E;">$1</span>';return e.replace(r,n)},Pr=e=>{ze.setState({preview:e})};var Nn={"msg-script-tabs":"_msg-script-tabs_1dy2w_2","msg-script-tabs-item":"_msg-script-tabs-item_1dy2w_12","msg-script-tabs-active":"_msg-script-tabs-active_1dy2w_32"};var Zu=e=>{let[{tabList:t,activeTab:r}]=pt();return An.default.createElement("div",{style:{display:"flex",paddingBottom:"12px"}},An.default.createElement(Ta,{wheelDirection:"horizontal",className:Nn["msg-script-tabs"],showSideArrow:!0},t.map(n=>An.default.createElement("div",{className:(0,vs.default)(Nn["msg-script-tabs-item"],{[Nn["msg-script-tabs-active"]]:n.id===r||null}),key:n.id,onClick:()=>{e.onSelected(n)}},n.tagName))))},gs=Zu;var Ke=N(ee());var Ot={"msg-script-list-item":"_msg-script-list-item_pqjse_2","msg-script-list-item-name":"_msg-script-list-item-name_pqjse_18","msg-script-list-item-line":"_msg-script-list-item-line_pqjse_26","msg-script-list-item-text":"_msg-script-list-item-text_pqjse_32","msg-script-list-item-send":"_msg-script-list-item-send_pqjse_47","msg-script-list-item-media":"_msg-script-list-item-media_pqjse_61","msg-script-list-item-media-price":"_msg-script-list-item-media-price_pqjse_68","msg-script-send-item":"_msg-script-send-item_pqjse_82"};var Es=N(xt()),Ro=N(_e());var Is=N(qu());var ce={"script-popover-item":"_script-popover-item_n059c_2","script-popover-title":"_script-popover-title_n059c_9","script-popover-sub-title":"_script-popover-sub-title_n059c_14","script-popover-text":"_script-popover-text_n059c_21","script-popover-medias":"_script-popover-medias_n059c_46","script-popover-medias-wrap":"_script-popover-medias-wrap_n059c_52","script-popover-media-left":"_script-popover-media-left_n059c_58","script-popover-medias-covers":"_script-popover-medias-covers_n059c_63","value-tag":"_value-tag_n059c_71","script-vault-tag-send":"_script-vault-tag-send_n059c_85","script-vault-tag-nobuy":"_script-vault-tag-nobuy_n059c_86","script-vault-tag-bought":"_script-vault-tag-bought_n059c_101","medias-item-info-wrap":"_medias-item-info-wrap_n059c_116","media-mask":"_media-mask_n059c_127","video-play":"_video-play_n059c_135","script-popover-medias-cover":"_script-popover-medias-cover_n059c_63","script-popover-medias-drm":"_script-popover-medias-drm_n059c_151","audio-item":"_audio-item_n059c_164","script-popover-medias-duration":"_script-popover-medias-duration_n059c_172","script-popover-media-right":"_script-popover-media-right_n059c_187","script-popover-note":"_script-popover-note_n059c_197","script-popover-wrap":"_script-popover-wrap_n059c_209","script-popover-wrap-dark":"_script-popover-wrap-dark_n059c_212"};var U=N(ee());var Mn=N(_e());var Ln;function je(){if(Ln)return Ln;try{let e=localStorage.getItem(ut);return Ln=JSON.parse(e),Ln}catch(e){}}var bs;function Tn(){try{let e=localStorage.getItem("session_active_session");return bs=JSON.parse(e),bs}catch(e){}}var ef="https://apiv3.fansly.com";async function He(e,t){let{method:r="GET",headers:n={},body:i=null,params:c={},timeout:l=1e4}=t||{},p=Object.keys(c).length?`?${new URLSearchParams(c).toString()}`:"",u=ef+e+p,m=Tn(),y={method:r,headers:{"Content-Type":"application/json",authorization:m?.token,...n}};i&&r!=="GET"&&r!=="HEAD"&&(y.body=JSON.stringify(i));let v=new AbortController,_=setTimeout(()=>v.abort(),l);y.signal=v.signal;try{let S=await fetch(u,y);if(clearTimeout(_),!S.ok)throw S;try{return await S.json()}catch{return S}}catch(S){throw clearTimeout(_),S.name==="AbortError"?new Error(`timeout (${l}ms)`):S}}He.get=async(e,t)=>He(e,{method:"GET",...t});He.post=async(e,t)=>He(e,{method:"POST",...t});He.delete=async(e,t)=>He(e,{method:"DELETE",...t});He.put=async(e,t)=>He(e,{method:"PUT",...t});function Fn(e){return e==="image/gif"?"gif":e.startsWith("image")?"image":e.startsWith("video")?"video":e.startsWith("audio")?"audio":"unknown"}var ws=e=>{switch(Fn(e)){case"image":return Zt.Photo;case"video":return Zt.Video;case"gif":return Zt.Gif;case"audio":return Zt.Audio;default:return Zt.Photo}},tf=async e=>!Array.isArray(e)||e.length===0?[]:(await He.get("/api/v1/media",{params:{ids:e}}))?.response??[];function Ss(e,t){return On(async()=>tf(e),{...t,cacheKey:rf(e),cacheTime:5*60*1e3,staleTime:5*60*1e3})}function rf(e){return`/api/v1/account/media${e?.join(",")}`}function _s(e){if(!(e===void 0||+e==0))return((e||0)/100).toFixed(2)}var Dn=new Map;async function xs(e,t){if(!document.querySelector(e))throw new Error("Unable to find textarea by selector: "+e);Dn.has(e)||Dn.set(e,{queue:[],processing:!1});let n=Dn.get(e);return new Promise(i=>{n.queue.push({value:t,resolve:i}),n.processing||nf(e)})}async function nf(e){let t=document.querySelector(e);if(!t)return;let r=Dn.get(e);if(!(!r||r.queue.length===0)){for(r.processing=!0;r.queue.length>0;){let{value:n,resolve:i}=r.queue.shift();try{t.focus(),await new Promise(p=>requestAnimationFrame(p));let{selectionStart:c,selectionEnd:l}=t;if(c!==null&&l!==null){let p=t.value.substring(0,c),u=t.value.substring(l),m=p+n+u;t.value=m;let y=c+n.length;t.setSelectionRange(y,y),t.dispatchEvent(new Event("input",{bubbles:!0})),i(m)}else{let p=t.value+n;t.value=p;let u=p.length;t.setSelectionRange(u,u),t.dispatchEvent(new Event("input",{bubbles:!0})),i(p)}await new Promise(p=>setTimeout(p,10))}catch(c){i(t.value)}}r.processing=!1}}var of=e=>{let{item:t,children:r,trigger:n,delay:i}=e,c=(0,U.useRef)(null),[l,p]=(0,U.useState)(0),u=t?.medias?.length-1,m=(0,U.useRef)(null),y=Qt(),{data:v,loading:_,run:S}=Ss(t?.medias?.map(b=>b?.id),{manual:!0}),I=()=>U.default.createElement("div",{className:ce["script-popover-item"]},U.default.createElement("div",{className:(0,Mn.default)(ce["script-popover-title"],"win-emoji-font")},U.default.createElement("span",{className:ce["script-popover-sub-title"]},t.scriptName),U.default.createElement("span",{className:ce["script-popover-text"],dangerouslySetInnerHTML:{__html:Er.sanitize(t.scriptContent)}})),_&&!v?.length?U.default.createElement(tt,{spinning:!0}):null,!!v?.length&&U.default.createElement("div",{className:ce["script-popover-medias"]},U.default.createElement("div",{className:ce["script-popover-medias-wrap"]},U.default.createElement("div",{className:ce["script-popover-media-left"],ref:c},v?.map((b,g)=>{let j=Fn(b.mimetype),L=["video","audio"].includes(j)?b?.variants[0]?.locations[0]?.location:b?.locations[0]?.location;return U.default.createElement("div",{className:ce["script-popover-medias-covers"],key:g,onClick:()=>{m.current?.open(g)}},j==="audio"?U.default.createElement("div",{className:ce["audio-item"],style:{backgroundImage:`url(${is})`}}):U.default.createElement(Be,{enableSfwEye:!1,render:C=>U.default.createElement("div",{style:{backgroundImage:`url(${L})`},className:(0,Mn.default)(ce["script-popover-medias-cover"],...C.imgClassNames)})}),["video","audio"].includes(j)&&b?.duration&&U.default.createElement("div",{className:ce["script-popover-medias-duration"]},j==="video"?U.default.createElement(Oa,{color:"white",size:16}):U.default.createElement(xa,{color:"white",size:16}),U.default.createElement("span",null,Za(b?.duration,!0))),["video","audio"].includes(j)?U.default.createElement(ja,{size:24,className:ce["video-play"]}):null)}))),v?.length>3&&U.default.createElement("div",{className:ce["script-popover-media-right"]},v?.length>1&&U.default.createElement(U.default.Fragment,null,U.default.createElement("span",{style:{marginRight:"16px",cursor:l==0?"not-allowed":"pointer"},onClick:b=>{b.stopPropagation(),l!==0&&(c.current?.setAttribute("style",`transform: translate3d(-${(l-1)*148}px,0, 0)`),p(l-1))}},U.default.createElement(Ea,{size:24})),U.default.createElement("span",{style:{cursor:u-l<2?"not-allowed":"pointer"},onClick:b=>{if(b.stopPropagation(),u-l==2)c.current?.setAttribute("style",`transform: translateX(-${l*148+60}px)`),p(l+1);else{if(u-l<2)return;c.current?.setAttribute("style",`transform: translate3d(-${(l+1)*148}px,0, 0)`),p(l+1)}}},U.default.createElement(Ia,{size:24}))))),t.internalNotes&&U.default.createElement("div",{className:ce["script-popover-note"]},U.default.createElement("span",null,"Note:"),U.default.createElement("span",null," ",t.internalNotes)),t.founderName&&U.default.createElement("div",{className:ce["script-popover-note"]},U.default.createElement("span",null,"Founder:"),U.default.createElement("span",null," ",t.founderName)),U.default.createElement(Ya,{previewItemArr:v?.map(b=>({id:b?.id,url:b?.locations[0]?.location,type:Fn(b.mimetype),cover:b?.mimetype?.startsWith("image")?b?.variants[0]?.locations[0]?.location:b?.locations[0]?.location})),ref:m,modalProps:{getContainer:!1,className:"preview-box-modal"},enableSfw:!0,enableSfwEye:!0}));return U.default.createElement(U.default.Fragment,null,U.default.createElement(yn,{overlayClassName:(0,Mn.default)(ce["script-popover-wrap"],y?ce["script-popover-wrap-dark"]:""),trigger:n,color:y?"#424242":"#151515",mouseEnterDelay:i,content:()=>I(),destroyTooltipOnHide:!0,onOpenChange:b=>{b||p(0),b&&S()}},r))},Os=of;Es.default.extend(Is.default);var af=e=>{let{item:t,onPreview:r}=e,n=Qt(),i=Aa();return Ke.default.createElement(Os,{item:t,delay:1},Ke.default.createElement("div",{key:t.id,onClick:()=>{r(t)},className:(0,Ro.default)(Ot["msg-script-list-item"],t.employeeName?Ot["msg-script-send-item"]:""),style:{background:t.employeeName?n?i["nav-B"]:i.B1:""}},Ke.default.createElement("div",{className:Ot["msg-script-list-item-name"],dangerouslySetInnerHTML:{__html:Er.sanitize(t.scriptNameShow)}}),Ke.default.createElement("div",{className:Ot["msg-script-list-item-line"]}),Ke.default.createElement("div",{className:(0,Ro.default)(Ot["msg-script-list-item-text"],"win-emoji-font"),dangerouslySetInnerHTML:{__html:Er.sanitize(t.scriptContentShow)}}),t?.employeeName&&Ke.default.createElement("div",{className:Ot["msg-script-list-item-send"]},Ke.default.createElement(Ca,{size:"18"})," Sent"," ","by",Ke.default.createElement("span",null," ",t?.employeeName)),Ke.default.createElement(Wa,{style:{marginLeft:"8px"},medias:t?.medias?.map(c=>({id:c.id,type:ws(c.mimetype),releaseForms:[],mediasTag:{labels:[],materialId:""}})),price:_s(t?.price),showPoint:!0,showPrice:!0,drmParams:{}})))},Cs=af;var Qe=N(ee());var zo={"script-preview":"_script-preview_1lwwu_2","script-modal":"_script-modal_1lwwu_14"};var Qn=N(ee(),1);var Go={modal:"_modal_vl7bl_1",container:"_container_vl7bl_17"};var Tr=N(ee(),1);var Et=N(ee(),1),Ns=N(H(),1);function Ps(e,t){return uf(e)||lf(e,t)||cf(e,t)||sf()}function sf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cf(e,t){if(!!e){if(typeof e=="string")return js(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return js(e,t)}}function js(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function uf(e){if(Array.isArray(e))return e}var As=(0,Et.createContext)({albumTagList:[],setAlbumTagList:function(){},activeAlbum:"",setActiveAlbum:function(){}}),er=function(){var t=(0,Et.useContext)(As);if(!t)throw new Error("useFanslyVault must be used within a FanslyVaultProvider");return t};function Vo(e){var t=e.children,r=(0,Et.useState)([]),n=Ps(r,2),i=n[0],c=n[1],l=(0,Et.useState)(""),p=Ps(l,2),u=p[0],m=p[1];return(0,Ns.jsx)(As.Provider,{value:{albumTagList:i,setAlbumTagList:c,activeAlbum:u,setActiveAlbum:m},children:t})}var Fs=N(Ku(),1),ff=["headers","params","body","method"];function qo(){"use strict";qo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&mt(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(mt(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function Ls(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function df(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){Ls(c,n,i,l,p,"next",u)}function p(u){Ls(c,n,i,l,p,"throw",u)}l(void 0)})}}function mt(e){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(e)}function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(r),!0).forEach(function(n){pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pf(e,t,r){return t=mf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mf(e){var t=hf(e,"string");return mt(t)=="symbol"?t:String(t)}function hf(e,t){if(mt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yf(e,t){if(e==null)return{};var r=vf(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function vf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var gf="https://apiv3.fansly.com";function tr(e,t){var r=t||{},n=r.headers,i=r.params,c=r.body,l=r.method,p=l===void 0?"GET":l,u=yf(r,ff),m=i?Fs.default.stringify(i):"",y=m?"".concat(e).concat(e.includes("?")?"&":"?").concat(m):e;return fetch("".concat(gf).concat(y),Ds({headers:Ds({accept:"application/json, text/plain, */*","accept-language":"zh-CN,zh;q=0.9","content-type":"application/json"},n),referrer:"https://fansly.com/",referrerPolicy:"strict-origin-when-cross-origin",method:p,mode:"cors",body:mt(c)==="object"?JSON.stringify(c):c},u)).then(function(){var v=df(qo().mark(function _(S){var I;return qo().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,S.json();case 2:if(I=g.sent,I.success!==!0){g.next=5;break}return g.abrupt("return",I.response);case 5:return g.abrupt("return",Promise.reject(I.error));case 6:case"end":return g.stop()}},_)}));return function(_){return v.apply(this,arguments)}}()).catch(function(v){throw v})}var ht=N(ee(),1);var kn=N(ee(),1);var $o=40,rr={RENAME_MEDIA:"/api/v1/vault/albums/media/rename?ngsw-bypass=true",ALBUMS:"/api/v1/vault/albumsnew?ngsw-bypass=true",VAULT:"/api/v1/media/vaultnew?ngsw-bypass=true"};var Ms=N(H(),1),ks=(0,kn.createContext)({maxCount:$o}),xe=function(){var t=(0,kn.useContext)(ks);if(!t)throw new Error("useFanslyCreator must be used within a FanslyCreatorProvider");return t},Rs=function(t){var r=t.children,n=t.accountId,i=t.agencyId,c=t.creatorId,l=t.name,p=t.authorization,u=t.sessionId,m=t.maxCount,y=m===void 0?$o:m,v=t.getContainer,_=t.modalClassName,S=_===void 0?"":_,I=t.showPost,b=t.queryMediaStatus,g=t.onFanslyError,j={accountId:n,agencyId:i,creatorId:c,name:l,authorization:p,sessionId:u,maxCount:y,getContainer:v,modalClassName:S,showPost:I,queryMediaStatus:b,onFanslyError:g};return(0,Ms.jsx)(ks.Provider,{value:j,children:r})};function It(e){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function Wo(){"use strict";Wo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&It(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(It(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zs(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uo(e,t,r){return t=bf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bf(e){var t=wf(e,"string");return It(t)=="symbol"?t:String(t)}function wf(e,t){if(It(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(It(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function Sf(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){Gs(c,n,i,l,p,"next",u)}function p(u){Gs(c,n,i,l,p,"throw",u)}l(void 0)})}}function Yo(e,t){return Ef(e)||Of(e,t)||xf(e,t)||_f()}function _f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xf(e,t){if(!!e){if(typeof e=="string")return Vs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vs(e,t)}}function Vs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Of(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Ef(e){if(Array.isArray(e))return e}function or(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=(0,ht.useState)(null),i=Yo(n,2),c=i[0],l=i[1],p=(0,ht.useState)(!1),u=Yo(p,2),m=u[0],y=u[1],v=(0,ht.useState)(null),_=Yo(v,2),S=_[0],I=_[1],b=xe(),g=b.authorization,j=b.onFanslyError,L=(0,ht.useRef)(null),C=t.manual,V=C===void 0?!1:C,k=t.defaultParams,G=k===void 0?{}:k,E=t.method,D=E===void 0?"GET":E,M=t.onSuccess,T=t.onError,R=ae(function(){L.current&&(L.current.abort(new Error("Aborted repeat request")),L.current=null)}),W=ae(Sf(Wo().mark(function $(){var z,Y,s,o,a,f=arguments;return Wo().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return z=f.length>0&&f[0]!==void 0?f[0]:{},Y=f.length>1?f[1]:void 0,d.prev=2,s=new AbortController,L.current=s,y(!0),I(null),d.next=9,tr(e,nr(nr(nr({},r),Y),{},Uo(Uo({headers:nr(nr(nr({},r?.headers),Y?.headers),{},{authorization:g||""}),method:D},D==="GET"?"params":"body",z),"signal",s.signal)));case 9:return o=d.sent,l(o),M?.(o),d.abrupt("return",o);case 15:if(d.prev=15,d.t0=d.catch(2),!(d.t0 instanceof Error&&d.t0.name==="AbortError")){d.next=19;break}return d.abrupt("return",Promise.reject(d.t0));case 19:throw a=d.t0,I(a),T?.(a),j?.(a),a;case 24:return d.prev=24,L.current&&(y(!1),L.current=null),d.finish(24);case 27:case"end":return d.stop()}},$,null,[[2,15,24,27]])})));return(0,ht.useEffect)(function(){return function(){R()}},[R]),Ba(function(){V||W(G)}),{data:c,loading:m,error:S,run:W,abort:R}}var Rn={All:38e3,Messages:5e3,Posts:1e3};function qs(){var e=or(rr.ALBUMS),t=e.data,r=e.error,n=e.loading,i=e.run;return{data:t,loading:n,error:r,run:i}}var fe={image:"image",video:"video",gif:"gif",audio:"audio",unknown:"unknown"};function jr(e){return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$s(Object(r),!0).forEach(function(n){zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zn(e,t,r){return t=If(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function If(e){var t=Cf(e,"string");return jr(t)=="symbol"?t:String(t)}function Cf(e,t){if(jr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(e){var t=e.albums,r=t===void 0?[]:t,n=e.aggregationData,i=n===void 0?{media:[]}:n,c=i.media,l=zn(zn(zn({},Rn.All,"All"),Rn.Messages,"Messages"),Rn.Posts,"Posts");return r.map(function(p){var u,m=p.title,y=p.type,v=p.lastItemId,_=c.find(function(S){return S.id===v});return Ys(Ys({},p),{},{showTitle:y?l[y]:m||"Unknown",url:(_==null||(u=_.locations)===null||u===void 0||(u=u[0])===null||u===void 0?void 0:u.location)||""})})}function Us(e){return e.startsWith("image")?fe.image:e.startsWith("video")?fe.video:e.startsWith("audio")?fe.audio:fe.unknown}var Xs=N(ee(),1);var Js=N(_e(),1);var Nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXYAAAF2CAYAAAB6XrNlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoNSURBVHgB7d2xblTpGcfhMyZrZExh09BQGGigISBRUUBWgorG6ZGSO0hyBSR3sHsHG4kL2B6kDT1SCA1U4BIqu/DIwpLtnHfksexhwCbG5px/nkeyPDMej7vffH7Pd84MmiPa2dlZGA6Hy4PB4F5792Z7f6m9vdAA8M21jV1rG7vS3nzZ3n4+Pz//a3t/7Si/OzjsCRsbG0vti/5le3v7z0IO8F39MjMz84+5ubmVLz3ps2GvFXob9cft9782AHRGu8j+6dy5c3/77M+nPVir9HaF/lt7c6kBoItW2tX7j9NW7zOTD6yvr98UdYDOGy3Aq9mTPziwYrdSB+idT1bueyv2mqmLOkDvjBbkq6ure5tb9sJeB0obUQfoo6WzZ88+Ht8ZjWJ2RzDvGgB6qx3JXK6RzGjF3kb9cQNAr21tbY22pw9qLjM7O7vaANB3a5ubm5dnfvjhh+UGgAQL1fSZ3Wu/ABDgzJkz92rGfrMBIEJ7zPRmhX2pASDFUoXdFRsBcizMNABEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcI87sGAmxubjZv3rxpPnz4MPo6CYuLi83169ebK1euNNBlg+FwuNNAj62vrzfPnj0bfT8N58+fb+7fvz/6Dl1kFEPvnWbUy/iNpP5LgC4Sdnrt7du3pxr1sfqbNfqBLjJjp9dev3594H7Nv2/fvt3Mzs4231KF/NWrV6M3krGTmuXDcVmx02urq6sH7t+4ceObR73UPL3eMPYTdrpK2Ilykgc0T+INA06CsAOEMWOnF05jn3rN0McHRMezeugjYafzTmOf+osXLw7scqnbNXqpmT30jVEMnXca+9T373YZs52RvrJip9OOs0+9Rjb1++/fvx/drwOrV69edUkA4gk7nXbYPvUnT55M/b3J0UoZDoej2NcsffKSANeuXRs9Pvm3oI+MYui0/2Wf+v6DoNNMm9nX61bc67XHs3UHT+krK3Z65bB96hX1yZX3NOO471+5V8jFnARW7ESZjHpF+8GDB83Dhw9HK/L9XMyLVMJOrBqp1Ir84sWLo2up12p8cm5ecX/69Km4E0XYiXXnzp1PRjf12GTca45fB1shhbATqQ5+Xrp0aerPauVeK/j9alukuJNC2IlTs/QvnTFaI5qau0+u5msnzVEOvELXCTtRLly4cKSdLeP5+2Tcj7qrBrpM2Ily9+7dIz/3c59detg+eOg6YSfK116PvZ5/7969T056qnn7tOvHQB8IO//36kBqzdynxX3yzFfoA2GHptnb575f7W2vPe7f48Oy4TiEHXZN+3CNivtpXDYYviVhJ8pxzyCdtlVyfOkBH15NXwg7vVaXC9iv5uLHXV1X2KfF/fnz5wceq62V0EWu7kivVdj3r6RrJ8tJ7WaZ/G9g8qJi0BVW7PRaxfVrtzh+C/U3fRAHXSXs9NrnziA9SeMTm6CrjGLovQrt8vLyaARTH6V3UnvPa+xTX+NPWoKuEnZi1GjkuOORyc9QffToUQN9YxQDEEbY6ZWT/KQjJyGRQtjptJPYpz5NvWFMXq7XPnX6yoydTjvNfeqT7FOnr6zY6TT71OHrCTudZp86fL3BcDjcaaAH7FOHoxF2gDBGMQBhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCFNhX2sASLFWYV9pAEixMrOzs/OfBoAUL2vF/q8GgAjtYv35YHV1dWF2dvZde3+hAaDXNjc3F2cWFxfX2sL/swGg736ppg/q1sbGxtL29va7BoDempmZuTw3N7cy2sdeN9qw/9wA0Evt5OXnanndHowfrFn72bNn/93+cKkBoDcGg8FKG/Vb7ffReUl7Z56O5jKDwY/1hAaAXqhm77Z772TTA5cU2B3J/FHcAbqvWl3NHo9g9h6f9uQ6mNqOZH4zlgHopvFKfTLqZepFwOqJHz9+vOWAKkD37B4ovTUt6mVw2AvU6n1ra+vv7TvDnxoAvpfROUdnzpz56XNBHzs07GPtCy4Mh8Pl9uYf2sj/vv2+1DhbFeCk1MHQlfbrZV0mYH5+/tf9B0i/5L9MJ2JhIwgLQwAAAABJRU5ErkJggg==";var ir={"album-card":"_album-card_23pba_1",image:"_image_23pba_8",footer:"_footer_23pba_19",title:"_title_23pba_22",hot:"_hot_23pba_27"};var Ct=N(H(),1),Bo=N(H(),1);function Ar(e){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}var jf=["url","showTitle","itemCount"];function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bs(Object(r),!0).forEach(function(n){Nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nf(e,t,r){return t=Af(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Af(e){var t=Lf(e,"string");return Ar(t)=="symbol"?t:String(t)}function Lf(e,t){if(Ar(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tf(e,t){return kf(e)||Mf(e,t)||Ff(e,t)||Df()}function Df(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ff(e,t){if(!!e){if(typeof e=="string")return Ks(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ks(e,t)}}function Ks(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function kf(e){if(Array.isArray(e))return e}function Rf(e,t){if(e==null)return{};var r=zf(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function zf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ho(e){var t=e.url,r=e.showTitle,n=e.itemCount,i=Rf(e,jf),c=(0,Xs.useState)(!1),l=Tf(c,2),p=l[0],u=l[1];return(0,Bo.jsxs)("div",Hs(Hs({className:ir["album-card"]},i),{},{children:[(0,Ct.jsx)("div",{className:ir.image,children:p?(0,Ct.jsx)("img",{src:Nr,alt:"vault cover"}):(0,Ct.jsx)(Be,{render:function(y){var v=y.imgClassNames;return(0,Ct.jsx)("img",{className:(0,Js.default)(v),src:t,onError:function(){return u(!0)},alt:"vault cover"})}})}),(0,Bo.jsxs)("div",{className:ir.footer,children:[(0,Ct.jsx)("div",{className:ir.title,children:r}),(0,Ct.jsx)("div",{className:ir.hot,children:n})]})]}))}var Lr={container:"_container_125mo_1",header:"_header_125mo_8",loading:"_loading_125mo_17","album-error":"_album-error_125mo_24"};var yt=N(H(),1),Ko=N(H(),1),Zs=N(H(),1);function Gf(e,t){return Yf(e)||$f(e,t)||qf(e,t)||Vf()}function Vf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qf(e,t){if(!!e){if(typeof e=="string")return Qs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qs(e,t)}}function Qs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $f(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Yf(e){if(Array.isArray(e))return e}function Xo(){var e=(0,Tr.useState)([]),t=Gf(e,2),r=t[0],n=t[1],i=er(),c=i.setAlbumTagList,l=i.setActiveAlbum,p=qs(),u=p.data,m=p.error,y=p.loading,v=p.run;return(0,Tr.useEffect)(function(){if(u){var _=Ws(u);n(_),c(_.map(function(S){return{id:S.id,name:S.showTitle}}))}},[u,c]),(0,Tr.useEffect)(function(){},[m]),(0,Ko.jsxs)(Zs.Fragment,{children:[(0,yt.jsx)("div",{className:Lr.header,children:"My Albums"}),(0,Ko.jsxs)("div",{className:Lr.container,children:[y?(0,yt.jsx)("div",{className:Lr.loading,children:(0,yt.jsx)(tt,{})}):r.map(function(_){return(0,yt.jsx)(Ho,{url:_.url,showTitle:_.showTitle,itemCount:_.itemCount,onClick:function(){return l(_.id||"")}},_.id)}),m&&(0,yt.jsx)("div",{className:Lr["album-error"],children:(0,yt.jsx)(hn,{image:bn.STATUS.EMPTY_DATA,description:"Failed to pull the data of the album list",children:(0,yt.jsx)(xr,{type:"primary",onClick:function(){return v()},children:"Request Again"})})})]})]})}var Je=N(ee(),1);var Dc=N(Vu(),1);var ic=N(ee(),1),ac=N(xt(),1);var nt={"filter-icon":"_filter-icon_1rist_1",menu:"_menu_1rist_13","menu-item":"_menu-item_1rist_19",time:"_time_1rist_27",clear:"_clear_1rist_38"};var ei=N(_e(),1);var Jo={container:"_container_1l23i_1",picker:"_picker_1l23i_10"};var tc=N(ee(),1);var Gn={parse:function(t){try{return JSON.parse(t)}catch{return t}},stringify:function(t){try{return JSON.stringify(t)}catch{return t}}},Vn=function(t){var r=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60),c=n.toString().padStart(2,"0"),l=i.toString().padStart(2,"0");return r>0?"".concat(r,":").concat(c,":").concat(l):"".concat(c,":").concat(l)};function ec(e){return!e||!window.BigInt?"":(BigInt(e)-BigInt(1561494359539)<<BigInt(22)).toString()}function qn(e){return e==="image/gif"?fe.gif:e.startsWith("image")?fe.image:e.startsWith("video")?fe.video:e.startsWith("audio")?fe.audio:fe.unknown}var Qo=N(xt(),1);var rc=N(_e(),1),$n=N(H(),1);function Zo(e){var t=e.defaultTimestamp,r=e.onCancel,n=e.onChange,i=(0,tc.useRef)(null),c=xe(),l=c.getContainer,p=c.modalClassName,u=function(y){var v=y?.valueOf()||0,_=ec(v);n?.(_,v),r()};return(0,$n.jsx)(Jt,{open:!0,className:(0,rc.default)("fansly-vault-picker-modal",p),footer:null,width:457,title:"Select Date",onCancel:r,getContainer:l,children:(0,$n.jsx)("div",{className:Jo.container,ref:i,children:(0,$n.jsx)(ya,{onChange:u,defaultValue:t?(0,Qo.default)(t):(0,Qo.default)(),open:!0,className:Jo.picker,getPopupContainer:function(){return i.current},showTime:!0})})})}var Ne=N(H(),1),Wn=N(H(),1),sc=N(H(),1);function Dr(e){return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nc(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wf(e,t,r){return t=Uf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uf(e){var t=Bf(e,"string");return Dr(t)=="symbol"?t:String(t)}function Bf(e,t){if(Dr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(e,t){return Qf(e)||Jf(e,t)||Xf(e,t)||Kf()}function Kf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xf(e,t){if(!!e){if(typeof e=="string")return oc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oc(e,t)}}function oc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Qf(e){if(Array.isArray(e))return e}var Ae=function(e){return e.Empty="0",e.Image="1",e.Video="2",e}(Ae||{}),cc={before:"0",after:"0",mediaType:null,timestamp:0};function ti(e){var t=e.filter,r=e.setFilter,n=(0,ic.useState)(!1),i=Hf(n,2),c=i[0],l=i[1],p=xe(),u=p.getContainer,m=p.modalClassName,y=ae(function(S,I){var b=t.mediaType,g=b;I?b===Ae.Empty?g=S:(S===Ae.Image&&b===Ae.Video||S===Ae.Video&&b===Ae.Image)&&(g=null):b===null?g=S===Ae.Image?Ae.Video:Ae.Image:b===S&&(g=Ae.Empty),r(Yn(Yn({},t),{},{mediaType:g}))}),v=function(I){var b=Yn(Yn({},t),I);r(b)},_=(0,Wn.jsxs)("div",{className:nt.menu,children:[(0,Ne.jsx)("div",{className:nt["menu-item"],children:(0,Wn.jsxs)("div",{className:(0,ei.default)(nt["menu-item"],nt.time),onClick:function(){return l(!0)},children:[(0,Ne.jsx)(Ma,{}),(0,Ne.jsx)("span",{children:"Date"}),t.timestamp>0&&(0,ac.default)(t.timestamp).format("YYYY-MM-DD HH:mm"),t.timestamp>0&&(0,Ne.jsx)(ts,{className:nt.clear,onClick:function(I){v({before:"0",timestamp:0}),I.stopPropagation()}})]})}),(0,Ne.jsx)("div",{className:nt["menu-item"],children:(0,Ne.jsx)(Or,{checked:!t.mediaType||t.mediaType==="1",onChange:function(I){return y(Ae.Image,I.target.checked)},children:"Images"})}),(0,Ne.jsx)("div",{className:nt["menu-item"],children:(0,Ne.jsx)(Or,{checked:!t.mediaType||t.mediaType==="2",onChange:function(I){return y(Ae.Video,I.target.checked)},children:"Videos"})})]});return(0,Wn.jsxs)(sc.Fragment,{children:[(0,Ne.jsx)(vn,{trigger:["click"],dropdownRender:function(){return _},getPopupContainer:u,placement:"bottomRight",overlayClassName:(0,ei.default)("fansly-vault-filter-dropdown",m),children:(0,Ne.jsx)(Ga,{className:nt["filter-icon"]})}),c&&(0,Ne.jsx)(Zo,{defaultTimestamp:t.timestamp,onCancel:function(){return l(!1)},onChange:function(I,b){return v({before:I,timestamp:b})}})]})}var pe=N(ee(),1);var Ge=N(ee(),1);var kr=N(_e(),1);var Hn=N(ee(),1);var Bn=N(H(),1);function Fr(e){return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}var Zf=["realSrc","loadingSrc","errorSrc","lazy","className"];function lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lc(Object(r),!0).forEach(function(n){ed(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ed(e,t,r){return t=td(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function td(e){var t=rd(e,"string");return Fr(t)=="symbol"?t:String(t)}function rd(e,t){if(Fr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uc(e,t){return ad(e)||id(e,t)||od(e,t)||nd()}function nd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function od(e,t){if(!!e){if(typeof e=="string")return fc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fc(e,t)}}function fc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function id(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function ad(e){if(Array.isArray(e))return e}function sd(e,t){if(e==null)return{};var r=cd(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function cd(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Kn=function(t){var r=t.realSrc,n=t.loadingSrc,i=t.errorSrc,c=t.lazy,l=c===void 0?!0:c,p=t.className,u=sd(t,Zf),m=(0,Hn.useRef)(null),y=(0,Hn.useState)(!1),v=uc(y,2),_=v[0],S=v[1],I=En(m,{rootMargin:"50px"}),b=uc(I,1),g=b[0],j=!l||g;return(0,Bn.jsx)("div",{ref:m,className:p,children:j?(0,Bn.jsx)(dt,Un(Un({},u),{},{src:_?i:r,onError:function(){S(!0)}})):(0,Bn.jsx)(dt,Un(Un({},u),{},{src:n}))})};var dc={"rename-container":"_rename-container_1tax2_1"};var ar=N(H(),1);function Xn(e){return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(e)}function ri(){"use strict";ri=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&Xn(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(Xn(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function pc(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function ld(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){pc(c,n,i,l,p,"next",u)}function p(u){pc(c,n,i,l,p,"throw",u)}l(void 0)})}}function ud(e,t){return md(e)||pd(e,t)||dd(e,t)||fd()}function fd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dd(e,t){if(!!e){if(typeof e=="string")return mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mc(e,t)}}function mc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function md(e){if(Array.isArray(e))return e}function ni(e){var t=e.open,r=e.onCancel,n=e.onOk,i=e.initialValue,c=gn.useForm(),l=ud(c,1),p=l[0],u=xe(),m=u.getContainer,y=function(){var v=ld(ri().mark(function _(){var S;return ri().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,p.validateFields();case 3:S=b.sent,n(S),b.next=10;break;case 7:b.prev=7,b.t0=b.catch(0),b.t0;case 10:case"end":return b.stop()}},_,null,[[0,7]])}));return function(){return v.apply(this,arguments)}}();return(0,ar.jsx)(Jt,{title:"Rename media",open:t,onCancel:r,onOk:y,okText:"Save",centered:!0,getContainer:m,children:(0,ar.jsx)("div",{className:dc["rename-container"],children:(0,ar.jsx)(gn,{form:p,initialValues:{customFilename:i},layout:"vertical",children:(0,ar.jsx)(gn.Item,{name:"customFilename",label:"Media name",rules:[{required:!0,message:"Please enter the media name"}],children:(0,ar.jsx)(ft,{})})})})})}var de={"vault-card":"_vault-card_18g6h_4",select:"_select_18g6h_31","default-cover":"_default-cover_18g6h_40",tooltip:"_tooltip_18g6h_46",time:"_time_18g6h_53","post-icon":"_post-icon_18g6h_56","is-unpaid":"_is-unpaid_18g6h_74","is-retrieved":"_is-retrieved_18g6h_77","is-post":"_is-post_18g6h_78",file:"_file_18g6h_81",filename:"_filename_18g6h_93",play:"_play_18g6h_103","play-icon":"_play-icon_18g6h_118",duration:"_duration_18g6h_126","duration-icon":"_duration-icon_18g6h_138"};var bc=N(xt(),1),re=N(H(),1),vt=N(H(),1),oi=N(H(),1);function Jn(e){return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function Mr(){"use strict";Mr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&Jn(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(Jn(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function hc(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function yc(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){hc(c,n,i,l,p,"next",u)}function p(u){hc(c,n,i,l,p,"throw",u)}l(void 0)})}}function vc(e,t){return gd(e)||vd(e,t)||yd(e,t)||hd()}function hd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yd(e,t){if(!!e){if(typeof e=="string")return gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gc(e,t)}}function gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function gd(e){if(Array.isArray(e))return e}function ii(e){var t=e.mediaId,r=e.customFilename,n=e.mediaType,i=e.url,c=e.mediaInfo,l=e.selectedMediaIds,p=e.onSelect,u=e.onRename,m=(0,Ge.useState)(!1),y=vc(m,2),v=y[0],_=y[1],S=(0,Ge.useState)(),I=vc(S,2),b=I[0],g=I[1],j=(0,Ge.useRef)(null),L=La(),C=xe(),V=C.getContainer,k=C.showPost,G=C.queryMediaStatus,E=[fe.video,fe.audio].includes(Us(c.mimetype)),D=(0,Ge.useMemo)(function(){if(E){var $=Gn.parse(c.metadata);return $!=null&&$.duration?+$.duration:0}return 0},[E,c.metadata]),M=function(){var $=yc(Mr().mark(function z(Y){var s;return Mr().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u({mediaId:t,customFilename:Y.customFilename});case 2:s=a.sent,s&&_(!1);case 4:case"end":return a.stop()}},z)}));return function(Y){return $.apply(this,arguments)}}(),T=ae(yc(Mr().mark(function $(){var z,Y;return Mr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!G){o.next=12;break}return o.prev=1,o.next=4,G(t);case 4:z=o.sent,Y=z?.[0],g(Y),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),o.t0;case 12:case"end":return o.stop()}},$,null,[[1,9]])}))),R=(0,Ge.useMemo)(function(){if(!k)return null;var $=!1,z="",Y="",s="Send at",o=null;switch(b?.status){case 1:$=!0,z=de["is-paid"],o=(0,re.jsx)(Sn,{}),Y="Bought",s="Bought";break;case 2:$=!0,z=de["is-unpaid"],o=(0,re.jsx)(wn,{}),Y="Sent",s="Sent";break;case 3:$=!0,z=de["is-retrieved"],o=(0,re.jsx)(_n,{}),Y="Unsent",s="Unsent";break;case 4:$=!0,z=de["is-free"],Y="Free",s="Sent for free";break;case 5:$=!0,z=de["is-post"],Y="Post",s="Posted in feed";break;case 9:default:break}return $?(0,re.jsx)(pa,{placement:"bottom",color:"#fff",getPopupContainer:function(){return j.current||document.body},title:(0,vt.jsxs)("div",{className:de.tooltip,color:"#fff",children:[(0,re.jsx)("span",{children:s}),(0,re.jsx)("span",{className:de.time,children:(0,bc.default)(b?.sendTime||0).format("MMM D YYYY")})]}),children:(0,vt.jsxs)("div",{className:(0,kr.default)(de["post-icon"],z),children:[o,Y,(0,re.jsx)(Ra,{})]})}):null},[b?.sendTime,b?.status,k]),W=(0,Ge.useMemo)(function(){var $,z=($=c.locations[0])===null||$===void 0?void 0:$.location;return{destroyOnClose:!0,zIndex:1500,getContainer:V,imageRender:function(){return(0,re.jsx)(Be,{render:function(o){var a=o.Eye,f=o.imgClassNames;return(0,vt.jsxs)(oi.Fragment,{children:[E?(0,re.jsx)("video",{className:(0,kr.default)(f),src:z,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,controls:!0}):(0,re.jsx)(dt,{className:(0,kr.default)(f),src:i,preview:!1}),(0,re.jsx)(a,{style:{top:40,left:40}})]})}})},toolbarRender:function(){return null}}},[E,c.locations,i]);return(0,Ge.useEffect)(function(){k&&T()},[T,k]),(0,vt.jsxs)("div",{className:de["vault-card"],ref:j,children:[(0,re.jsx)(Be,{render:function(z){var Y=z.imgClassNames;return(0,re.jsx)(Kn,{className:(0,kr.default)(Y),lazy:!0,width:187,height:187,preview:W,realSrc:i,errorSrc:Nr,loadingSrc:Nr})}}),(0,re.jsx)("div",{className:de.select,onClick:function(){var z;return p({id:t,type:n,mimetype:c.mimetype,url:i,duration:D,realUrl:E?(z=c.locations[0])===null||z===void 0?void 0:z.location:""})},children:l.includes(t)?(0,re.jsx)(wa,{color:L.M1}):(0,re.jsx)(Sa,{})}),(0,vt.jsxs)("div",{className:de.file,title:r,onClick:function(){return _(!0)},children:[(0,re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.26784 1.90418C7.85363 1.3184 8.80337 1.3184 9.38916 1.90418L10.0963 2.61129C10.6821 3.19708 10.6821 4.14682 10.0963 4.73261L4.90001 9.92886C4.83021 9.99866 4.74131 10.0462 4.64452 10.0656L1.99287 10.5959C1.64301 10.6659 1.33455 10.3574 1.40452 10.0076L1.93485 7.35593C1.95421 7.25914 2.00179 7.17024 2.07159 7.10044L7.26784 1.90418ZM8.68205 2.61129L9.38916 3.3184C9.58442 3.51366 9.58442 3.83024 9.38916 4.0255L8.68205 4.73261L7.26784 3.3184L7.97495 2.61129C8.17021 2.41603 8.48679 2.41603 8.68205 2.61129ZM6.56073 4.02551L2.88574 7.7005L2.53219 9.46826L4.29995 9.11471L7.97494 5.43972L6.56073 4.02551Z",fill:"currentColor"})}),(0,re.jsx)("span",{className:de.filename,children:r})]}),R,E&&(0,vt.jsxs)(oi.Fragment,{children:[(0,re.jsx)("div",{className:de.play,children:(0,re.jsx)(Va,{className:de["play-icon"]})}),D&&(0,vt.jsxs)("div",{className:de.duration,children:[(0,re.jsx)(xn,{className:de["duration-icon"]}),Vn(D)]})]}),v&&(0,re.jsx)(ni,{open:v,onCancel:function(){return _(!1)},onOk:M,initialValue:r})]})}var si=N(xt(),1);function Rr(e){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(e)}function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wc(Object(r),!0).forEach(function(n){bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bd(e,t,r){return t=wd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wd(e){var t=Sd(e,"string");return Rr(t)=="symbol"?t:String(t)}function Sd(e,t){if(Rr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(e){var t=e.albumMedia,r=t===void 0?[]:t,n=e.media,i=n===void 0?[]:n;return r.map(function(c){var l,p,u=c.mediaId,m=i.find(function(S){return S.id===u}),y=qn(m.mimetype),v=[fe.video,fe.audio].includes(y)?(m==null||(l=m.variants)===null||l===void 0||(l=l[0])===null||l===void 0||(l=l.locations)===null||l===void 0||(l=l[0])===null||l===void 0?void 0:l.location)||"":(m==null||(p=m.locations)===null||p===void 0||(p=p[0])===null||p===void 0?void 0:p.location)||"",_=ai(ai({},c),{},{url:v,mediaInfo:ai({},m)});return _}).filter(function(c){return c.mediaInfo.status===1})}function _c(e){var t=new Map;return e.forEach(function(r){var n=r.createdAt,i=(0,si.default)(n).format("YYYY-MM-DD"),c=(0,si.default)(n).format("D MMMM");if(t.has(i)){var l;(l=t.get(i))===null||l===void 0||l.list.push(r)}else t.set(i,{key:i,createDay:c,list:[r]})}),Array.from(t.values())}var Pt={"vault-container":"_vault-container_o4ojc_1","vault-list":"_vault-list_o4ojc_6","vault-fragment":"_vault-fragment_o4ojc_11","vault-title":"_vault-title_o4ojc_14","vault-empty":"_vault-empty_o4ojc_21","vault-loading":"_vault-loading_o4ojc_24"};function xc(e){var t=or(rr.VAULT,{defaultParams:e}),r=t.data,n=t.loading,i=t.run,c=t.abort;return{data:r,loading:n,run:i,abort:c}}var gt=N(H(),1),fi=N(H(),1);function jt(e){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function li(){"use strict";li=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&jt(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(jt(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function Oc(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function _d(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){Oc(c,n,i,l,p,"next",u)}function p(u){Oc(c,n,i,l,p,"throw",u)}l(void 0)})}}function Ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ec(Object(r),!0).forEach(function(n){xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ec(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xd(e,t,r){return t=Od(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Od(e){var t=Ed(e,"string");return jt(t)=="symbol"?t:String(t)}function Ed(e,t){if(jt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(e){return Pd(e)||Cd(e)||Ic(e)||Id()}function Id(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pd(e){if(Array.isArray(e))return ui(e)}function jd(e,t){return Ld(e)||Ad(e,t)||Ic(e,t)||Nd()}function Nd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ic(e,t){if(!!e){if(typeof e=="string")return ui(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ui(e,t)}}function ui(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ad(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Ld(e){if(Array.isArray(e))return e}var Cc=(0,pe.forwardRef)(function(t,r){var n=t.filter,i=t.selectedMediaIds,c=t.maxCount,l=t.setSelectedMediaList,p=t.onRename,u=(0,pe.useState)([]),m=jd(u,2),y=m[0],v=m[1],_=(0,pe.useRef)(null),S=(0,pe.useRef)("0"),I=xc(n),b=I.data,g=I.loading,j=I.run,L=I.abort,C=(0,pe.useMemo)(function(){return _c(y)},[y]),V=(0,pe.useCallback)(function(E){l(function(D){return D.find(function(M){return M.id===E.id})?D.filter(function(M){return M.id!==E.id}):[E].concat(ci(D)).slice(0,c)})},[l,c]);(0,pe.useEffect)(function(){if(b){var E=Sc(b);E.length===0?S.current=null:(S.current=E[E.length-1].id,v(function(D){return[].concat(ci(D),ci(E))}))}},[b]);var k=ae(function(){if(!!_.current){var E=_.current,D=E.scrollTop,M=E.clientHeight,T=E.scrollHeight;T-D-M<100&&!g&&S.current!==null&&j(sr(sr({},n),{},{before:S.current}))}});(0,pe.useImperativeHandle)(r,function(){return{getMediaList:function(){return y.map(function(D){var M,T,R;return{id:D.mediaId,type:D.mediaType,mimetype:(M=D.mediaInfo)===null||M===void 0?void 0:M.mimetype,url:D.url,realUrl:(T=D.mediaInfo)===null||T===void 0||(T=T.locations)===null||T===void 0||(T=T[0])===null||T===void 0?void 0:T.location,duration:(R=Gn.parse(D.mediaInfo.metadata))===null||R===void 0?void 0:R.duration}})}}},[y]),(0,pe.useEffect)(function(){var E=_.current;if(E)return E.addEventListener("scroll",k),function(){E.removeEventListener("scroll",k)}},[k]);var G=(0,pe.useCallback)(function(){var E=_d(li().mark(function D(M){var T,R,W;return li().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,p(M);case 3:return T=z.sent,R=T.id,W=T.customFilename,R&&v(function(Y){return Y.map(function(s){return s.id===R?sr(sr({},s),{},{customFilename:W}):s})}),Re.success("The media has been renamed successfully."),z.abrupt("return",!0);case 11:return z.prev=11,z.t0=z.catch(0),Re.error("Failed to rename the media."),z.abrupt("return",!1);case 15:case"end":return z.stop()}},D,null,[[0,11]])}));return function(D){return E.apply(this,arguments)}}(),[p]);return Ua(function(){L(),S.current="0",v([]),j(n)},[n]),(0,fi.jsxs)("div",{ref:_,className:Pt["vault-container"],children:[C.map(function(E){return(0,fi.jsxs)("div",{className:Pt["vault-fragment"],children:[(0,gt.jsx)("div",{className:Pt["vault-title"],children:E.createDay}),(0,gt.jsx)("div",{className:Pt["vault-list"],children:E.list.map(function(D){return(0,gt.jsx)(ii,sr(sr({},D),{},{selectedMediaIds:i,onSelect:V,onRename:G}),D.id)})})]},E.key)}),!g&&y.length===0&&(0,gt.jsx)("div",{className:Pt["vault-empty"],children:(0,gt.jsx)(hn,{image:bn.STATUS.EMPTY_DATA,description:"This is a empty album"})}),g&&(0,gt.jsx)("div",{className:Pt["vault-loading"],children:(0,gt.jsx)(tt,{})})]})});var ab=N(ee(),1);var di=N(_e(),1);var Nt={tag:"_tag_b5rks_1",active:"_active_b5rks_14","list-item":"_list-item_b5rks_18"};var cr=N(H(),1),pi=N(H(),1);function zr(e){return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}function Pc(e,t,r){return t=Td(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Td(e){var t=Dd(e,"string");return zr(t)=="symbol"?t:String(t)}function Dd(e,t){if(zr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jc=2,Fd=function(t){var r=t.items,n=t.activeId,i=t.onChange,c=r.slice(0,jc),l=r.slice(jc),p=l.map(function(y){return{key:y.id,label:(0,cr.jsx)("div",{className:(0,di.default)(Nt["list-item"],Pc({},Nt.active,n===y.id)),children:y.name})}}),u=function(v){i?.(v)},m=function(v){var _=v.key;i?.(_)};return(0,pi.jsxs)(Lo,{size:8,children:[(0,cr.jsx)("div",{className:Nt.tag,onClick:function(){return u("")},children:"Overview"}),c.map(function(y){return(0,cr.jsx)("div",{className:(0,di.default)(Nt.tag,Pc({},Nt.active,n===y.id)),onClick:function(){return u(y.id)},children:y.name},y.id)}),l.length>0&&(0,cr.jsx)(vn,{menu:{items:p,onClick:m,selectedKeys:n?[n]:[]},children:(0,pi.jsxs)(Lo,{className:Nt.tag,children:["More",(0,cr.jsx)(rs,{})]})})]})},Nc=Fd;var ot={header:"_header_1yj1p_1",back:"_back_1yj1p_9",operation:"_operation_1yj1p_19","album-tag":"_album-tag_1yj1p_24",right:"_right_1yj1p_27",search:"_search_1yj1p_31","search-icon":"_search-icon_1yj1p_37"};var Xe=N(H(),1),Gr=N(H(),1),Fc=N(H(),1);function Vr(e){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function mi(e){return Rd(e)||kd(e)||Tc(e)||Md()}function Md(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rd(e){if(Array.isArray(e))return yi(e)}function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ac(Object(r),!0).forEach(function(n){zd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zd(e,t,r){return t=Gd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gd(e){var t=Vd(e,"string");return Vr(t)=="symbol"?t:String(t)}function Vd(e,t){if(Vr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(e,t){return Yd(e)||$d(e,t)||Tc(e,t)||qd()}function qd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tc(e,t){if(!!e){if(typeof e=="string")return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(e,t)}}function yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $d(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Yd(e){if(Array.isArray(e))return e}function vi(e){var t,r=e.selectedMediaIds,n=e.setSelectedMediaList,i=(0,Je.useState)((0,Dc.cloneDeep)(cc)),c=Lc(i,2),l=c[0],p=c[1],u=(0,Je.useState)(""),m=Lc(u,2),y=m[0],v=m[1],_=xe(),S=_.maxCount,I=er(),b=I.albumTagList,g=I.activeAlbum,j=I.setActiveAlbum,L=or(rr.RENAME_MEDIA,{method:"POST",manual:!0}),C=L.run,V=(0,Je.useRef)(null),k=(0,Je.useRef)(null),G=Ha(y,{wait:500}),E=(0,Je.useMemo)(function(){return hi(hi({albumId:g},l),{},{search:G})},[l,g,G]),D=(0,Je.useCallback)(function(T){if(T.target.checked){var R,W=((R=k.current)===null||R===void 0?void 0:R.getMediaList())||[];n(function($){return mi(new Map([].concat(mi($),mi(W)).map(function(z){return[z.id,z]})).values()).slice(0,S)})}else n([])},[S,n]),M=ae(function(T){var R=hi({albumId:g},T);return C(R)});return(0,Gr.jsxs)(Fc.Fragment,{children:[(0,Gr.jsxs)("div",{className:ot.header,children:[(0,Xe.jsx)(Fa,{className:ot.back,onClick:function(){return j("")}}),(0,Xe.jsx)("div",{className:ot.title,children:b==null||(t=b.find(function(T){return T.id===g}))===null||t===void 0?void 0:t.name})]}),(0,Gr.jsxs)("div",{className:ot.operation,children:[(0,Xe.jsx)("div",{className:ot["album-tag"],children:(0,Xe.jsx)(Nc,{items:b,activeId:g,onChange:j})}),(0,Gr.jsxs)("div",{className:ot.right,children:[(0,Xe.jsx)(ti,{filter:l,setFilter:p}),(0,Xe.jsx)(Or,{onChange:D,children:"Select All"})]})]}),(0,Xe.jsx)(ft,{className:ot.search,ref:V,placeholder:"Search Album",suffix:(0,Xe.jsx)(os,{className:ot["search-icon"]}),value:y,onChange:function(R){return v(R.target.value)},allowClear:!0}),(0,Xe.jsx)(Cc,{ref:k,filter:E,maxCount:S,selectedMediaIds:r,setSelectedMediaList:n,onRename:M})]})}var kc=N(_e(),1),qr=N(H(),1);function Wd(e,t){return Kd(e)||Hd(e,t)||Bd(e,t)||Ud()}function Ud(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bd(e,t){if(!!e){if(typeof e=="string")return Mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mc(e,t)}}function Mc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Kd(e){if(Array.isArray(e))return e}var Xd=function(t){var r=t.visible,n=t.onCancel,i=t.onOk,c=i===void 0?function(){}:i,l=xe(),p=l.getContainer,u=l.modalClassName,m=er(),y=m.activeAlbum,v=(0,Qn.useState)([]),_=Wd(v,2),S=_[0],I=_[1],b=(0,Qn.useMemo)(function(){return S.map(function(j){return j.id})},[S]),g=function(){c(S)};return(0,qr.jsx)(Jt,{title:"Media Vault",open:r,onCancel:n,onOk:g,okText:b.length?"Add medias(".concat(b.length,")"):"Add medias",okButtonProps:{disabled:b.length===0},width:991,centered:!0,className:(0,kc.default)("fansly-vault-modal",Go.modal,u),maskClosable:!1,getContainer:p,children:(0,qr.jsx)("div",{className:Go.container,onClick:function(L){return L.stopPropagation()},children:y?(0,qr.jsx)(vi,{selectedMediaIds:b,setSelectedMediaList:I},y):(0,qr.jsx)(Xo,{})})})},Rc=Xd;var Zn=N(H(),1);function $r(e){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}var Jd=["accountId","agencyId","creatorId","name","authorization","sessionId","maxCount","getContainer","modalClassName","showPost","queryMediaStatus","onFanslyError"];function zc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zc(Object(r),!0).forEach(function(n){Zd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zd(e,t,r){return t=ep(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ep(e){var t=tp(e,"string");return $r(t)=="symbol"?t:String(t)}function tp(e,t){if($r(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(e,t){if(e==null)return{};var r=np(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function np(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eo(e){var t=e.accountId,r=e.agencyId,n=e.creatorId,i=e.name,c=e.authorization,l=e.sessionId,p=e.maxCount,u=e.getContainer,m=e.modalClassName,y=m===void 0?"":m,v=e.showPost,_=e.queryMediaStatus,S=e.onFanslyError,I=rp(e,Jd);return(0,Zn.jsx)(Rs,{accountId:t,agencyId:r,creatorId:n,name:i,authorization:c,sessionId:l,maxCount:p,getContainer:u,modalClassName:y,showPost:v,queryMediaStatus:_,onFanslyError:S,children:(0,Zn.jsx)(Vo,{children:(0,Zn.jsx)(Rc,Qd({},I))})})}var Zl=N(ee(),1);var me=N(ee(),1);var Xl=N(_e(),1);var to=N(ee(),1),Gc=N(H(),1),Vc=(0,to.createContext)({}),ro=function(){var t=(0,to.useContext)(Vc);if(!t)throw new Error("useFanslyScript must be used within a FanslyScriptProvider");return t},op=function(t){var r=t.children,n=t.accountId,i=t.authorization,c=t.showPost,l=t.queryMediaStatus,p=t.getContainer,u=t.modalClassName,m=u===void 0?"":u,y=t.maxCount,v={accountId:n,authorization:i,showPost:c,queryMediaStatus:l,getContainer:p,modalClassName:m,maxCount:y};return(0,Gc.jsx)(Vc.Provider,{value:v,children:r})},qc=op;var P=N(ee()),Mt=N(mn());var oe=N(ee());function Yc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,oe.useMemo)(()=>n=>{t.forEach(i=>i(n))},t)}var Yr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function At(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function no(e){return"nodeType"in e}function we(e){var t,r;return e?At(e)?e:no(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function oo(e){let{Document:t}=we(e);return e instanceof t}function lr(e){return At(e)?!1:e instanceof we(e).HTMLElement}function bi(e){return e instanceof we(e).SVGElement}function Lt(e){return e?At(e)?e.document:no(e)?oo(e)?e:lr(e)||bi(e)?e.ownerDocument:document:document:document}var Le=Yr?oe.useLayoutEffect:oe.useEffect;function io(e){let t=(0,oe.useRef)(e);return Le(()=>{t.current=e}),(0,oe.useCallback)(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function Wc(){let e=(0,oe.useRef)(null),t=(0,oe.useCallback)((n,i)=>{e.current=setInterval(n,i)},[]),r=(0,oe.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function ur(e,t){t===void 0&&(t=[e]);let r=(0,oe.useRef)(e);return Le(()=>{r.current!==e&&(r.current=e)},t),r}function fr(e,t){let r=(0,oe.useRef)();return(0,oe.useMemo)(()=>{let n=e(r.current);return r.current=n,n},[...t])}function Wr(e){let t=io(e),r=(0,oe.useRef)(null),n=(0,oe.useCallback)(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function ao(e){let t=(0,oe.useRef)();return(0,oe.useEffect)(()=>{t.current=e},[e]),t.current}var gi={};function Tt(e,t){return(0,oe.useMemo)(()=>{if(t)return t;let r=gi[e]==null?0:gi[e]+1;return gi[e]=r,e+"-"+r},[e,t])}function Uc(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((c,l)=>{let p=Object.entries(l);for(let[u,m]of p){let y=c[u];y!=null&&(c[u]=y+e*m)}return c},{...t})}}var Dt=Uc(1),dr=Uc(-1);function ip(e){return"clientX"in e&&"clientY"in e}function Ur(e){if(!e)return!1;let{KeyboardEvent:t}=we(e.target);return t&&e instanceof t}function ap(e){if(!e)return!1;let{TouchEvent:t}=we(e.target);return t&&e instanceof t}function so(e){if(ap(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return ip(e)?{x:e.clientX,y:e.clientY}:null}var bt=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(!!e)return[bt.Translate.toString(e),bt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),$c="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Bc(e){return e.matches($c)?e:e.querySelector($c)}var Ft=N(ee()),sp={display:"none"};function Hc(e){let{id:t,value:r}=e;return Ft.default.createElement("div",{id:t,style:sp},r)}function Kc(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e,i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ft.default.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function Xc(){let[e,t]=(0,Ft.useState)("");return{announce:(0,Ft.useCallback)(n=>{n!=null&&t(n)},[]),announcement:e}}var cl=(0,P.createContext)(null);function cp(e){let t=(0,P.useContext)(cl);(0,P.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function lp(){let[e]=(0,P.useState)(()=>new Set),t=(0,P.useCallback)(n=>(e.add(n),()=>e.delete(n)),[e]);return[(0,P.useCallback)(n=>{let{type:i,event:c}=n;e.forEach(l=>{var p;return(p=l[i])==null?void 0:p.call(l,c)})},[e]),t]}var up={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fp={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dp(e){let{announcements:t=fp,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=up}=e,{announce:c,announcement:l}=Xc(),p=Tt("DndLiveRegion"),[u,m]=(0,P.useState)(!1);if((0,P.useEffect)(()=>{m(!0)},[]),cp((0,P.useMemo)(()=>({onDragStart(v){let{active:_}=v;c(t.onDragStart({active:_}))},onDragMove(v){let{active:_,over:S}=v;t.onDragMove&&c(t.onDragMove({active:_,over:S}))},onDragOver(v){let{active:_,over:S}=v;c(t.onDragOver({active:_,over:S}))},onDragEnd(v){let{active:_,over:S}=v;c(t.onDragEnd({active:_,over:S}))},onDragCancel(v){let{active:_,over:S}=v;c(t.onDragCancel({active:_,over:S}))}}),[c,t])),!u)return null;let y=P.default.createElement(P.default.Fragment,null,P.default.createElement(Hc,{id:n,value:i.draggable}),P.default.createElement(Kc,{id:p,announcement:l}));return r?(0,Mt.createPortal)(y,r):y}var se;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(se||(se={}));function lo(){}function Pi(e,t){return(0,P.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function ll(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,P.useMemo)(()=>[...t].filter(n=>n!=null),[...t])}var Ve=Object.freeze({x:0,y:0});function pp(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mp(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function hp(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function ul(e,t){if(!e||e.length===0)return null;let[r]=e;return t?r[t]:r}function Jc(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}var fl=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,i=Jc(t,t.left,t.top),c=[];for(let l of n){let{id:p}=l,u=r.get(p);if(u){let m=pp(Jc(u),i);c.push({id:p,data:{droppableContainer:l,value:m}})}}return c.sort(mp)};function yp(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),l=i-n,p=c-r;if(n<i&&r<c){let u=t.width*t.height,m=e.width*e.height,y=l*p,v=y/(u+m-y);return Number(v.toFixed(4))}return 0}var vp=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,i=[];for(let c of n){let{id:l}=c,p=r.get(l);if(p){let u=yp(p,t);u>0&&i.push({id:l,data:{droppableContainer:c,value:u}})}}return i.sort(hp)};function gp(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function dl(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ve}function bp(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),c=1;c<n;c++)i[c-1]=arguments[c];return i.reduce((l,p)=>({...l,top:l.top+e*p.y,bottom:l.bottom+e*p.y,left:l.left+e*p.x,right:l.right+e*p.x}),{...r})}}var wp=bp(1);function Sp(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function _p(e,t,r){let n=Sp(t);if(!n)return e;let{scaleX:i,scaleY:c,x:l,y:p}=n,u=e.left-l-(1-i)*parseFloat(r),m=e.top-p-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),y=i?e.width/i:e.width,v=c?e.height/c:e.height;return{width:y,height:v,top:m,right:u+y,bottom:m+v,left:u}}var xp={ignoreTransform:!1};function zt(e,t){t===void 0&&(t=xp);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:m,transformOrigin:y}=we(e).getComputedStyle(e);m&&(r=_p(r,m,y))}let{top:n,left:i,width:c,height:l,bottom:p,right:u}=r;return{top:n,left:i,width:c,height:l,bottom:p,right:u}}function Qc(e){return zt(e,{ignoreTransform:!0})}function Op(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Ep(e,t){return t===void 0&&(t=we(e).getComputedStyle(e)),t.position==="fixed"}function Ip(e,t){t===void 0&&(t=we(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{let c=t[i];return typeof c=="string"?r.test(c):!1})}function fo(e,t){let r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(oo(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!lr(i)||bi(i)||r.includes(i))return r;let c=we(e).getComputedStyle(i);return i!==e&&Ip(i,c)&&r.push(i),Ep(i,c)?r:n(i.parentNode)}return e?n(e):r}function pl(e){let[t]=fo(e,1);return t??null}function wi(e){return!Yr||!e?null:At(e)?e:no(e)?oo(e)||e===Lt(e).scrollingElement?window:lr(e)?e:null:null}function ml(e){return At(e)?e.scrollX:e.scrollLeft}function hl(e){return At(e)?e.scrollY:e.scrollTop}function xi(e){return{x:ml(e),y:hl(e)}}var le;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(le||(le={}));function yl(e){return!Yr||!e?!1:e===document.scrollingElement}function vl(e){let t={x:0,y:0},r=yl(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,l=e.scrollTop>=n.y,p=e.scrollLeft>=n.x;return{isTop:i,isLeft:c,isBottom:l,isRight:p,maxScroll:n,minScroll:t}}var Cp={x:.2,y:.2};function Pp(e,t,r,n,i){let{top:c,left:l,right:p,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=Cp);let{isTop:m,isBottom:y,isLeft:v,isRight:_}=vl(e),S={x:0,y:0},I={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!m&&c<=t.top+b.height?(S.y=le.Backward,I.y=n*Math.abs((t.top+b.height-c)/b.height)):!y&&u>=t.bottom-b.height&&(S.y=le.Forward,I.y=n*Math.abs((t.bottom-b.height-u)/b.height)),!_&&p>=t.right-b.width?(S.x=le.Forward,I.x=n*Math.abs((t.right-b.width-p)/b.width)):!v&&l<=t.left+b.width&&(S.x=le.Backward,I.x=n*Math.abs((t.left+b.width-l)/b.width)),{direction:S,speed:I}}function jp(e){if(e===document.scrollingElement){let{innerWidth:c,innerHeight:l}=window;return{top:0,left:0,right:c,bottom:l,width:c,height:l}}let{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function gl(e){return e.reduce((t,r)=>Dt(t,xi(r)),Ve)}function Np(e){return e.reduce((t,r)=>t+ml(r),0)}function Ap(e){return e.reduce((t,r)=>t+hl(r),0)}function Lp(e,t){if(t===void 0&&(t=zt),!e)return;let{top:r,left:n,bottom:i,right:c}=t(e);!pl(e)||(i<=0||c<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var Tp=[["x",["left","right"],Np],["y",["top","bottom"],Ap]],Hr=class{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=fo(r),i=gl(n);this.rect={...t},this.width=t.width,this.height=t.height;for(let[c,l,p]of Tp)for(let u of l)Object.defineProperty(this,u,{get:()=>{let m=p(n),y=i[c]-m;return this.rect[u]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},kt=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}};function Dp(e){let{EventTarget:t}=we(e);return e instanceof t?e:Lt(e)}function Si(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Te;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Te||(Te={}));function Zc(e){e.preventDefault()}function Fp(e){e.stopPropagation()}var Z;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Z||(Z={}));var bl={start:[Z.Space,Z.Enter],cancel:[Z.Esc],end:[Z.Space,Z.Enter,Z.Tab]},Mp=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Z.Right:return{...r,x:r.x+25};case Z.Left:return{...r,x:r.x-25};case Z.Down:return{...r,y:r.y+25};case Z.Up:return{...r,y:r.y-25}}},pr=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:r}}=t;this.props=t,this.listeners=new kt(Lt(r)),this.windowListeners=new kt(we(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Te.Resize,this.handleCancel),this.windowListeners.add(Te.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Te.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Lp(n),r(Ve)}handleKeyDown(t){if(Ur(t)){let{active:r,context:n,options:i}=this.props,{keyboardCodes:c=bl,coordinateGetter:l=Mp,scrollBehavior:p="smooth"}=i,{code:u}=t;if(c.end.includes(u)){this.handleEnd(t);return}if(c.cancel.includes(u)){this.handleCancel(t);return}let{collisionRect:m}=n.current,y=m?{x:m.left,y:m.top}:Ve;this.referenceCoordinates||(this.referenceCoordinates=y);let v=l(t,{active:r,context:n.current,currentCoordinates:y});if(v){let _=dr(v,y),S={x:0,y:0},{scrollableAncestors:I}=n.current;for(let b of I){let g=t.code,{isTop:j,isRight:L,isLeft:C,isBottom:V,maxScroll:k,minScroll:G}=vl(b),E=jp(b),D={x:Math.min(g===Z.Right?E.right-E.width/2:E.right,Math.max(g===Z.Right?E.left:E.left+E.width/2,v.x)),y:Math.min(g===Z.Down?E.bottom-E.height/2:E.bottom,Math.max(g===Z.Down?E.top:E.top+E.height/2,v.y))},M=g===Z.Right&&!L||g===Z.Left&&!C,T=g===Z.Down&&!V||g===Z.Up&&!j;if(M&&D.x!==v.x){let R=b.scrollLeft+_.x,W=g===Z.Right&&R<=k.x||g===Z.Left&&R>=G.x;if(W&&!_.y){b.scrollTo({left:R,behavior:p});return}W?S.x=b.scrollLeft-R:S.x=g===Z.Right?b.scrollLeft-k.x:b.scrollLeft-G.x,S.x&&b.scrollBy({left:-S.x,behavior:p});break}else if(T&&D.y!==v.y){let R=b.scrollTop+_.y,W=g===Z.Down&&R<=k.y||g===Z.Up&&R>=G.y;if(W&&!_.x){b.scrollTo({top:R,behavior:p});return}W?S.y=b.scrollTop-R:S.y=g===Z.Down?b.scrollTop-k.y:b.scrollTop-G.y,S.y&&b.scrollBy({top:-S.y,behavior:p});break}}this.handleMove(t,Dt(dr(v,this.referenceCoordinates),S))}}}handleMove(t,r){let{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){let{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){let{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};pr.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=bl,onActivation:i}=t,{active:c}=r,{code:l}=e.nativeEvent;if(n.start.includes(l)){let p=c.activatorNode.current;return p&&e.target!==p?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function el(e){return Boolean(e&&"distance"in e)}function tl(e){return Boolean(e&&"delay"in e)}var Kr=class{constructor(t,r,n){var i;n===void 0&&(n=Dp(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;let{event:c}=t,{target:l}=c;this.props=t,this.events=r,this.document=Lt(l),this.documentListeners=new kt(this.document),this.listeners=new kt(n),this.windowListeners=new kt(we(l)),this.initialCoordinates=(i=so(c))!=null?i:Ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Te.Resize,this.handleCancel),this.windowListeners.add(Te.DragStart,Zc),this.windowListeners.add(Te.VisibilityChange,this.handleCancel),this.windowListeners.add(Te.ContextMenu,Zc),this.documentListeners.add(Te.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tl(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(el(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){let{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Te.Click,Fp,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Te.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;let{activated:n,initialCoordinates:i,props:c}=this,{onMove:l,options:{activationConstraint:p}}=c;if(!i)return;let u=(r=so(t))!=null?r:Ve,m=dr(i,u);if(!n&&p){if(el(p)){if(p.tolerance!=null&&Si(m,p.tolerance))return this.handleCancel();if(Si(m,p.distance))return this.handleStart()}if(tl(p)&&Si(m,p.tolerance))return this.handleCancel();this.handlePending(p,m);return}t.cancelable&&t.preventDefault(),l(u)}handleEnd(){let{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){let{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Z.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},kp={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},mr=class extends Kr{constructor(t){let{event:r}=t,n=Lt(r.target);super(t,kp,n)}};mr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];var Rp={move:{name:"mousemove"},end:{name:"mouseup"}},Oi;(function(e){e[e.RightClick=2]="RightClick"})(Oi||(Oi={}));var Ei=class extends Kr{constructor(t){super(t,Rp,Lt(t.event.target))}};Ei.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Oi.RightClick?!1:(n?.({event:r}),!0)}}];var _i={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},Ii=class extends Kr{constructor(t){super(t,_i)}static setup(){return window.addEventListener(_i.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(_i.move.name,t)};function t(){}}};Ii.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var Br;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Br||(Br={}));var uo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(uo||(uo={}));function zp(e){let{acceleration:t,activator:r=Br.Pointer,canScroll:n,draggingRect:i,enabled:c,interval:l=5,order:p=uo.TreeOrder,pointerCoordinates:u,scrollableAncestors:m,scrollableAncestorRects:y,delta:v,threshold:_}=e,S=Vp({delta:v,disabled:!c}),[I,b]=Wc(),g=(0,P.useRef)({x:0,y:0}),j=(0,P.useRef)({x:0,y:0}),L=(0,P.useMemo)(()=>{switch(r){case Br.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Br.DraggableRect:return i}},[r,i,u]),C=(0,P.useRef)(null),V=(0,P.useCallback)(()=>{let G=C.current;if(!G)return;let E=g.current.x*j.current.x,D=g.current.y*j.current.y;G.scrollBy(E,D)},[]),k=(0,P.useMemo)(()=>p===uo.TreeOrder?[...m].reverse():m,[p,m]);(0,P.useEffect)(()=>{if(!c||!m.length||!L){b();return}for(let G of k){if(n?.(G)===!1)continue;let E=m.indexOf(G),D=y[E];if(!D)continue;let{direction:M,speed:T}=Pp(G,D,L,t,_);for(let R of["x","y"])S[R][M[R]]||(T[R]=0,M[R]=0);if(T.x>0||T.y>0){b(),C.current=G,I(V,l),g.current=T,j.current=M;return}}g.current={x:0,y:0},j.current={x:0,y:0},b()},[t,V,n,b,c,l,JSON.stringify(L),JSON.stringify(S),I,m,k,y,JSON.stringify(_)])}var Gp={x:{[le.Backward]:!1,[le.Forward]:!1},y:{[le.Backward]:!1,[le.Forward]:!1}};function Vp(e){let{delta:t,disabled:r}=e,n=ao(t);return fr(i=>{if(r||!n||!i)return Gp;let c={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[le.Backward]:i.x[le.Backward]||c.x===-1,[le.Forward]:i.x[le.Forward]||c.x===1},y:{[le.Backward]:i.y[le.Backward]||c.y===-1,[le.Forward]:i.y[le.Forward]||c.y===1}}},[r,t,n])}function qp(e,t){let r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return fr(i=>{var c;return t==null?null:(c=n??i)!=null?c:null},[n,t])}function $p(e,t){return(0,P.useMemo)(()=>e.reduce((r,n)=>{let{sensor:i}=n,c=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,n)}));return[...r,...c]},[]),[e,t])}var Xr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xr||(Xr={}));var Ci;(function(e){e.Optimized="optimized"})(Ci||(Ci={}));var rl=new Map;function Yp(e,t){let{dragging:r,dependencies:n,config:i}=t,[c,l]=(0,P.useState)(null),{frequency:p,measure:u,strategy:m}=i,y=(0,P.useRef)(e),v=g(),_=ur(v),S=(0,P.useCallback)(function(j){j===void 0&&(j=[]),!_.current&&l(L=>L===null?j:L.concat(j.filter(C=>!L.includes(C))))},[_]),I=(0,P.useRef)(null),b=fr(j=>{if(v&&!r)return rl;if(!j||j===rl||y.current!==e||c!=null){let L=new Map;for(let C of e){if(!C)continue;if(c&&c.length>0&&!c.includes(C.id)&&C.rect.current){L.set(C.id,C.rect.current);continue}let V=C.node.current,k=V?new Hr(u(V),V):null;C.rect.current=k,k&&L.set(C.id,k)}return L}return j},[e,c,r,v,u]);return(0,P.useEffect)(()=>{y.current=e},[e]),(0,P.useEffect)(()=>{v||S()},[r,v]),(0,P.useEffect)(()=>{c&&c.length>0&&l(null)},[JSON.stringify(c)]),(0,P.useEffect)(()=>{v||typeof p!="number"||I.current!==null||(I.current=setTimeout(()=>{S(),I.current=null},p))},[p,v,S,...n]),{droppableRects:b,measureDroppableContainers:S,measuringScheduled:c!=null};function g(){switch(m){case Xr.Always:return!1;case Xr.BeforeDragging:return r;default:return!r}}}function wl(e,t){return fr(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Wp(e,t){return wl(e,t)}function Up(e){let{callback:t,disabled:r}=e,n=io(t),i=(0,P.useMemo)(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:c}=window;return new c(n)},[n,r]);return(0,P.useEffect)(()=>()=>i?.disconnect(),[i]),i}function po(e){let{callback:t,disabled:r}=e,n=io(t),i=(0,P.useMemo)(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:c}=window;return new c(n)},[r]);return(0,P.useEffect)(()=>()=>i?.disconnect(),[i]),i}function Bp(e){return new Hr(zt(e),e)}function nl(e,t,r){t===void 0&&(t=Bp);let[n,i]=(0,P.useState)(null);function c(){i(u=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=u??r)!=null?m:null}let y=t(e);return JSON.stringify(u)===JSON.stringify(y)?u:y})}let l=Up({callback(u){if(!!e)for(let m of u){let{type:y,target:v}=m;if(y==="childList"&&v instanceof HTMLElement&&v.contains(e)){c();break}}}}),p=po({callback:c});return Le(()=>{c(),e?(p?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),l?.disconnect())},[e]),n}function Hp(e){let t=wl(e);return dl(e,t)}var ol=[];function Kp(e){let t=(0,P.useRef)(e),r=fr(n=>e?n&&n!==ol&&e&&t.current&&e.parentNode===t.current.parentNode?n:fo(e):ol,[e]);return(0,P.useEffect)(()=>{t.current=e},[e]),r}function Xp(e){let[t,r]=(0,P.useState)(null),n=(0,P.useRef)(e),i=(0,P.useCallback)(c=>{let l=wi(c.target);!l||r(p=>p?(p.set(l,xi(l)),new Map(p)):null)},[]);return(0,P.useEffect)(()=>{let c=n.current;if(e!==c){l(c);let p=e.map(u=>{let m=wi(u);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,xi(m)]):null}).filter(u=>u!=null);r(p.length?new Map(p):null),n.current=e}return()=>{l(e),l(c)};function l(p){p.forEach(u=>{let m=wi(u);m?.removeEventListener("scroll",i)})}},[i,e]),(0,P.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((c,l)=>Dt(c,l),Ve):gl(e):Ve,[e,t])}function il(e,t){t===void 0&&(t=[]);let r=(0,P.useRef)(null);return(0,P.useEffect)(()=>{r.current=null},t),(0,P.useEffect)(()=>{let n=e!==Ve;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?dr(e,r.current):Ve}function Jp(e){(0,P.useEffect)(()=>{if(!Yr)return;let t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(let r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function Qp(e,t){return(0,P.useMemo)(()=>e.reduce((r,n)=>{let{eventName:i,handler:c}=n;return r[i]=l=>{c(l,t)},r},{}),[e,t])}function Sl(e){return(0,P.useMemo)(()=>e?Op(e):null,[e])}var al=[];function Zp(e,t){t===void 0&&(t=zt);let[r]=e,n=Sl(r?we(r):null),[i,c]=(0,P.useState)(al);function l(){c(()=>e.length?e.map(u=>yl(u)?n:new Hr(t(u),u)):al)}let p=po({callback:l});return Le(()=>{p?.disconnect(),l(),e.forEach(u=>p?.observe(u))},[e]),i}function em(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return lr(t)?t:e}function tm(e){let{measure:t}=e,[r,n]=(0,P.useState)(null),i=(0,P.useCallback)(m=>{for(let{target:y}of m)if(lr(y)){n(v=>{let _=t(y);return v?{...v,width:_.width,height:_.height}:_});break}},[t]),c=po({callback:i}),l=(0,P.useCallback)(m=>{let y=em(m);c?.disconnect(),y&&c?.observe(y),n(y?t(y):null)},[t,c]),[p,u]=Wr(l);return(0,P.useMemo)(()=>({nodeRef:p,rect:r,setRef:u}),[r,p,u])}var rm=[{sensor:mr,options:{}},{sensor:pr,options:{}}],nm={current:{}},co={draggable:{measure:Qc},droppable:{measure:Qc,strategy:Xr.WhileDragging,frequency:Ci.Optimized},dragOverlay:{measure:zt}},Rt=class extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}},om={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Rt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:co,measureDroppableContainers:lo,windowRect:null,measuringScheduled:!1},im={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lo,draggableNodes:new Map,over:null,measureDroppableContainers:lo},mo=(0,P.createContext)(im),_l=(0,P.createContext)(om);function am(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Rt}}}function sm(e,t){switch(t.type){case se.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case se.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case se.DragEnd:case se.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case se.RegisterDroppable:{let{element:r}=t,{id:n}=r,i=new Rt(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case se.SetDroppableDisabled:{let{id:r,key:n,disabled:i}=t,c=e.droppable.containers.get(r);if(!c||n!==c.key)return e;let l=new Rt(e.droppable.containers);return l.set(r,{...c,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case se.UnregisterDroppable:{let{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;let c=new Rt(e.droppable.containers);return c.delete(r),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function cm(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:i}=(0,P.useContext)(mo),c=ao(n),l=ao(r?.id);return(0,P.useEffect)(()=>{if(!t&&!n&&c&&l!=null){if(!Ur(c)||document.activeElement===c.target)return;let p=i.get(l);if(!p)return;let{activatorNode:u,node:m}=p;if(!u.current&&!m.current)return;requestAnimationFrame(()=>{for(let y of[u.current,m.current]){if(!y)continue;let v=Bc(y);if(v){v.focus();break}}})}},[n,t,i,l,c]),null}function lm(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,c)=>c({transform:i,...n}),r):r}function um(e){return(0,P.useMemo)(()=>({draggable:{...co.draggable,...e?.draggable},droppable:{...co.droppable,...e?.droppable},dragOverlay:{...co.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function fm(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e,c=(0,P.useRef)(!1),{x:l,y:p}=typeof i=="boolean"?{x:i,y:i}:i;Le(()=>{if(!l&&!p||!t){c.current=!1;return}if(c.current||!n)return;let m=t?.node.current;if(!m||m.isConnected===!1)return;let y=r(m),v=dl(y,n);if(l||(v.x=0),p||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){let _=pl(m);_&&_.scrollBy({top:v.y,left:v.x})}},[t,l,p,n,r])}var xl=(0,P.createContext)({...Ve,scaleX:1,scaleY:1}),wt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(wt||(wt={}));var Ol=(0,P.memo)(function(t){var r,n,i,c;let{id:l,accessibility:p,autoScroll:u=!0,children:m,sensors:y=rm,collisionDetection:v=vp,measuring:_,modifiers:S,...I}=t,b=(0,P.useReducer)(sm,void 0,am),[g,j]=b,[L,C]=lp(),[V,k]=(0,P.useState)(wt.Uninitialized),G=V===wt.Initialized,{draggable:{active:E,nodes:D,translate:M},droppable:{containers:T}}=g,R=E!=null?D.get(E):null,W=(0,P.useRef)({initial:null,translated:null}),$=(0,P.useMemo)(()=>{var he;return E!=null?{id:E,data:(he=R?.data)!=null?he:nm,rect:W}:null},[E,R]),z=(0,P.useRef)(null),[Y,s]=(0,P.useState)(null),[o,a]=(0,P.useState)(null),f=ur(I,Object.values(I)),h=Tt("DndDescribedBy",l),d=(0,P.useMemo)(()=>T.getEnabled(),[T]),w=um(_),{droppableRects:O,measureDroppableContainers:x,measuringScheduled:F}=Yp(d,{dragging:G,dependencies:[M.x,M.y],config:w.droppable}),A=qp(D,E),q=(0,P.useMemo)(()=>o?so(o):null,[o]),J=Gu(),ve=Wp(A,w.draggable.measure);fm({activeNode:E!=null?D.get(E):null,config:J.layoutShiftCompensation,initialRect:ve,measure:w.draggable.measure});let Q=nl(A,w.draggable.measure,ve),K=nl(A?A.parentElement:null),te=(0,P.useRef)({activatorEvent:null,active:null,activeNode:A,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=T.getNodeFor((r=te.current.over)==null?void 0:r.id),ge=tm({measure:w.dragOverlay.measure}),Ze=(n=ge.nodeRef.current)!=null?n:A,Ut=G?(i=ge.rect)!=null?i:Q:null,$i=Boolean(ge.nodeRef.current&&ge.rect),Yi=Hp($i?null:Q),Co=Sl(Ze?we(Ze):null),it=Kp(G?X??A:null),dn=Zp(it),pn=lm(S,{transform:{x:M.x-Yi.x,y:M.y-Yi.y,scaleX:1,scaleY:1},activatorEvent:o,active:$,activeNodeRect:Q,containerNodeRect:K,draggingNodeRect:Ut,over:te.current.over,overlayNodeRect:ge.rect,scrollableAncestors:it,scrollableAncestorRects:dn,windowRect:Co}),Wi=q?Dt(q,M):null,Ui=Xp(it),Tu=il(Ui),Du=il(Ui,[Q]),Bt=Dt(pn,Tu),Ht=Ut?wp(Ut,pn):null,br=$&&Ht?v({active:$,collisionRect:Ht,droppableRects:O,droppableContainers:d,pointerCoordinates:Wi}):null,Bi=ul(br,"id"),[at,Hi]=(0,P.useState)(null),Fu=$i?pn:Dt(pn,Du),Mu=gp(Fu,(c=at?.rect)!=null?c:null,Q),Po=(0,P.useRef)(null),Ki=(0,P.useCallback)((he,Ee)=>{let{sensor:Ie,options:st}=Ee;if(z.current==null)return;let Pe=D.get(z.current);if(!Pe)return;let Ce=he.nativeEvent,We=new Ie({active:z.current,activeNode:Pe,event:Ce,options:st,context:te,onAbort(ue){if(!D.get(ue))return;let{onDragAbort:Ue}=f.current,et={id:ue};Ue?.(et),L({type:"onDragAbort",event:et})},onPending(ue,ct,Ue,et){if(!D.get(ue))return;let{onDragPending:Sr}=f.current,lt={id:ue,constraint:ct,initialCoordinates:Ue,offset:et};Sr?.(lt),L({type:"onDragPending",event:lt})},onStart(ue){let ct=z.current;if(ct==null)return;let Ue=D.get(ct);if(!Ue)return;let{onDragStart:et}=f.current,wr={activatorEvent:Ce,active:{id:ct,data:Ue.data,rect:W}};(0,Mt.unstable_batchedUpdates)(()=>{et?.(wr),k(wt.Initializing),j({type:se.DragStart,initialCoordinates:ue,active:ct}),L({type:"onDragStart",event:wr}),s(Po.current),a(Ce)})},onMove(ue){j({type:se.DragMove,coordinates:ue})},onEnd:Kt(se.DragEnd),onCancel:Kt(se.DragCancel)});Po.current=We;function Kt(ue){return async function(){let{active:Ue,collisions:et,over:wr,scrollAdjustedTranslate:Sr}=te.current,lt=null;if(Ue&&Sr){let{cancelDrop:_r}=f.current;lt={activatorEvent:Ce,active:Ue,collisions:et,delta:Sr,over:wr},ue===se.DragEnd&&typeof _r=="function"&&await Promise.resolve(_r(lt))&&(ue=se.DragCancel)}z.current=null,(0,Mt.unstable_batchedUpdates)(()=>{j({type:ue}),k(wt.Uninitialized),Hi(null),s(null),a(null),Po.current=null;let _r=ue===se.DragEnd?"onDragEnd":"onDragCancel";if(lt){let jo=f.current[_r];jo?.(lt),L({type:_r,event:lt})}})}}},[D]),ku=(0,P.useCallback)((he,Ee)=>(Ie,st)=>{let Pe=Ie.nativeEvent,Ce=D.get(st);if(z.current!==null||!Ce||Pe.dndKit||Pe.defaultPrevented)return;let We={active:Ce};he(Ie,Ee.options,We)===!0&&(Pe.dndKit={capturedBy:Ee.sensor},z.current=st,Ki(Ie,Ee))},[D,Ki]),Xi=$p(y,ku);Jp(y),Le(()=>{Q&&V===wt.Initializing&&k(wt.Initialized)},[Q,V]),(0,P.useEffect)(()=>{let{onDragMove:he}=f.current,{active:Ee,activatorEvent:Ie,collisions:st,over:Pe}=te.current;if(!Ee||!Ie)return;let Ce={active:Ee,activatorEvent:Ie,collisions:st,delta:{x:Bt.x,y:Bt.y},over:Pe};(0,Mt.unstable_batchedUpdates)(()=>{he?.(Ce),L({type:"onDragMove",event:Ce})})},[Bt.x,Bt.y]),(0,P.useEffect)(()=>{let{active:he,activatorEvent:Ee,collisions:Ie,droppableContainers:st,scrollAdjustedTranslate:Pe}=te.current;if(!he||z.current==null||!Ee||!Pe)return;let{onDragOver:Ce}=f.current,We=st.get(Bi),Kt=We&&We.rect.current?{id:We.id,rect:We.rect.current,data:We.data,disabled:We.disabled}:null,ue={active:he,activatorEvent:Ee,collisions:Ie,delta:{x:Pe.x,y:Pe.y},over:Kt};(0,Mt.unstable_batchedUpdates)(()=>{Hi(Kt),Ce?.(ue),L({type:"onDragOver",event:ue})})},[Bi]),Le(()=>{te.current={activatorEvent:o,active:$,activeNode:A,collisionRect:Ht,collisions:br,droppableRects:O,draggableNodes:D,draggingNode:Ze,draggingNodeRect:Ut,droppableContainers:T,over:at,scrollableAncestors:it,scrollAdjustedTranslate:Bt},W.current={initial:Ut,translated:Ht}},[$,A,br,Ht,D,Ze,Ut,O,T,at,it,Bt]),zp({...J,delta:M,draggingRect:Ht,pointerCoordinates:Wi,scrollableAncestors:it,scrollableAncestorRects:dn});let Ru=(0,P.useMemo)(()=>({active:$,activeNode:A,activeNodeRect:Q,activatorEvent:o,collisions:br,containerNodeRect:K,dragOverlay:ge,draggableNodes:D,droppableContainers:T,droppableRects:O,over:at,measureDroppableContainers:x,scrollableAncestors:it,scrollableAncestorRects:dn,measuringConfiguration:w,measuringScheduled:F,windowRect:Co}),[$,A,Q,o,br,K,ge,D,T,O,at,x,it,dn,w,F,Co]),zu=(0,P.useMemo)(()=>({activatorEvent:o,activators:Xi,active:$,activeNodeRect:Q,ariaDescribedById:{draggable:h},dispatch:j,draggableNodes:D,over:at,measureDroppableContainers:x}),[o,Xi,$,Q,j,h,D,at,x]);return P.default.createElement(cl.Provider,{value:C},P.default.createElement(mo.Provider,{value:zu},P.default.createElement(_l.Provider,{value:Ru},P.default.createElement(xl.Provider,{value:Mu},m)),P.default.createElement(cm,{disabled:p?.restoreFocus===!1})),P.default.createElement(dp,{...p,hiddenTextDescribedById:h}));function Gu(){let he=Y?.autoScrollEnabled===!1,Ee=typeof u=="object"?u.enabled===!1:u===!1,Ie=G&&!he&&!Ee;return typeof u=="object"?{...u,enabled:Ie}:{enabled:Ie}}}),dm=(0,P.createContext)(null),sl="button",pm="Draggable";function El(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e,c=Tt(pm),{activators:l,activatorEvent:p,active:u,activeNodeRect:m,ariaDescribedById:y,draggableNodes:v,over:_}=(0,P.useContext)(mo),{role:S=sl,roleDescription:I="draggable",tabIndex:b=0}=i??{},g=u?.id===t,j=(0,P.useContext)(g?xl:dm),[L,C]=Wr(),[V,k]=Wr(),G=Qp(l,t),E=ur(r);Le(()=>(v.set(t,{id:t,key:c,node:L,activatorNode:V,data:E}),()=>{let M=v.get(t);M&&M.key===c&&v.delete(t)}),[v,t]);let D=(0,P.useMemo)(()=>({role:S,tabIndex:b,"aria-disabled":n,"aria-pressed":g&&S===sl?!0:void 0,"aria-roledescription":I,"aria-describedby":y.draggable}),[n,S,b,g,I,y.draggable]);return{active:u,activatorEvent:p,activeNodeRect:m,attributes:D,isDragging:g,listeners:n?void 0:G,node:L,over:_,setNodeRef:C,setActivatorNodeRef:k,transform:j}}function Il(){return(0,P.useContext)(_l)}var mm="Droppable",hm={timeout:25};function Cl(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e,c=Tt(mm),{active:l,dispatch:p,over:u,measureDroppableContainers:m}=(0,P.useContext)(mo),y=(0,P.useRef)({disabled:r}),v=(0,P.useRef)(!1),_=(0,P.useRef)(null),S=(0,P.useRef)(null),{disabled:I,updateMeasurementsFor:b,timeout:g}={...hm,...i},j=ur(b??n),L=(0,P.useCallback)(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{m(Array.isArray(j.current)?j.current:[j.current]),S.current=null},g)},[g]),C=po({callback:L,disabled:I||!l}),V=(0,P.useCallback)((D,M)=>{!C||(M&&(C.unobserve(M),v.current=!1),D&&C.observe(D))},[C]),[k,G]=Wr(V),E=ur(t);return(0,P.useEffect)(()=>{!C||!k.current||(C.disconnect(),v.current=!1,C.observe(k.current))},[k,C]),(0,P.useEffect)(()=>(p({type:se.RegisterDroppable,element:{id:n,key:c,disabled:r,node:k,rect:_,data:E}}),()=>p({type:se.UnregisterDroppable,key:c,id:n})),[n]),(0,P.useEffect)(()=>{r!==y.current.disabled&&(p({type:se.SetDroppableDisabled,id:n,key:c,disabled:r}),y.current.disabled=r)},[n,c,r,p]),{active:l,rect:_,isOver:u?.id===n,node:k,over:u,setNodeRef:G}}var ie=N(ee());function yo(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function ym(e,t){return e.reduce((r,n,i)=>{let c=t.get(n);return c&&(r[i]=c),r},Array(e.length))}function ho(e){return e!==null&&e>=0}function vm(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function gm(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var vo=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e,c=yo(t,n,r),l=t[i],p=c[i];return!p||!l?null:{x:p.left-l.left,y:p.top-l.top,scaleX:p.width/l.width,scaleY:p.height/l.height}};var Pl="Sortable",jl=ie.default.createContext({activeIndex:-1,containerId:Pl,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vo,disabled:{draggable:!1,droppable:!1}});function Nl(e){let{children:t,id:r,items:n,strategy:i=vo,disabled:c=!1}=e,{active:l,dragOverlay:p,droppableRects:u,over:m,measureDroppableContainers:y}=Il(),v=Tt(Pl,r),_=Boolean(p.rect!==null),S=(0,ie.useMemo)(()=>n.map(G=>typeof G=="object"&&"id"in G?G.id:G),[n]),I=l!=null,b=l?S.indexOf(l.id):-1,g=m?S.indexOf(m.id):-1,j=(0,ie.useRef)(S),L=!vm(S,j.current),C=g!==-1&&b===-1||L,V=gm(c);Le(()=>{L&&I&&y(S)},[L,S,I,y]),(0,ie.useEffect)(()=>{j.current=S},[S]);let k=(0,ie.useMemo)(()=>({activeIndex:b,containerId:v,disabled:V,disableTransforms:C,items:S,overIndex:g,useDragOverlay:_,sortedRects:ym(S,u),strategy:i}),[b,v,V.draggable,V.droppable,C,S,g,u,_,i]);return ie.default.createElement(jl.Provider,{value:k},t)}var bm=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return yo(r,n,i).indexOf(t)},wm=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:c,newIndex:l,previousItems:p,previousContainerId:u,transition:m}=e;return!m||!n||p!==c&&i===l?!1:r?!0:l!==i&&t===u},Sm={duration:200,easing:"ease"},Al="transform",_m=bt.Transition.toString({property:Al,duration:0,easing:"linear"}),xm={roleDescription:"sortable"};function Om(e){let{disabled:t,index:r,node:n,rect:i}=e,[c,l]=(0,ie.useState)(null),p=(0,ie.useRef)(r);return Le(()=>{if(!t&&r!==p.current&&n.current){let u=i.current;if(u){let m=zt(n.current,{ignoreTransform:!0}),y={x:u.left-m.left,y:u.top-m.top,scaleX:u.width/m.width,scaleY:u.height/m.height};(y.x||y.y)&&l(y)}}r!==p.current&&(p.current=r)},[t,r,n,i]),(0,ie.useEffect)(()=>{c&&l(null)},[c]),c}function Ll(e){let{animateLayoutChanges:t=wm,attributes:r,disabled:n,data:i,getNewIndex:c=bm,id:l,strategy:p,resizeObserverConfig:u,transition:m=Sm}=e,{items:y,containerId:v,activeIndex:_,disabled:S,disableTransforms:I,sortedRects:b,overIndex:g,useDragOverlay:j,strategy:L}=(0,ie.useContext)(jl),C=Em(n,S),V=y.indexOf(l),k=(0,ie.useMemo)(()=>({sortable:{containerId:v,index:V,items:y},...i}),[v,i,V,y]),G=(0,ie.useMemo)(()=>y.slice(y.indexOf(l)),[y,l]),{rect:E,node:D,isOver:M,setNodeRef:T}=Cl({id:l,data:k,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...u}}),{active:R,activatorEvent:W,activeNodeRect:$,attributes:z,setNodeRef:Y,listeners:s,isDragging:o,over:a,setActivatorNodeRef:f,transform:h}=El({id:l,data:k,attributes:{...xm,...r},disabled:C.draggable}),d=Yc(T,Y),w=Boolean(R),O=w&&!I&&ho(_)&&ho(g),x=!j&&o,F=x&&O?h:null,q=O?F??(p??L)({rects:b,activeNodeRect:$,activeIndex:_,overIndex:g,index:V}):null,J=ho(_)&&ho(g)?c({id:l,items:y,activeIndex:_,overIndex:g}):V,ve=R?.id,Q=(0,ie.useRef)({activeId:ve,items:y,newIndex:J,containerId:v}),K=y!==Q.current.items,te=t({active:R,containerId:v,isDragging:o,isSorting:w,id:l,index:V,items:y,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:m,wasDragging:Q.current.activeId!=null}),X=Om({disabled:!te,index:V,node:D,rect:E});return(0,ie.useEffect)(()=>{w&&Q.current.newIndex!==J&&(Q.current.newIndex=J),v!==Q.current.containerId&&(Q.current.containerId=v),y!==Q.current.items&&(Q.current.items=y)},[w,J,v,y]),(0,ie.useEffect)(()=>{if(ve===Q.current.activeId)return;if(ve!=null&&Q.current.activeId==null){Q.current.activeId=ve;return}let Ze=setTimeout(()=>{Q.current.activeId=ve},50);return()=>clearTimeout(Ze)},[ve]),{active:R,activeIndex:_,attributes:z,data:k,rect:E,index:V,newIndex:J,items:y,isOver:M,isSorting:w,isDragging:o,listeners:s,node:D,overIndex:g,over:a,setNodeRef:d,setActivatorNodeRef:f,setDroppableNodeRef:T,setDraggableNodeRef:Y,transform:X??q,transition:ge()};function ge(){if(X||K&&Q.current.newIndex===V)return _m;if(!(x&&!Ur(W)||!m)&&(w||te))return bt.Transition.toString({...m,property:Al})}}function Em(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}var Jb=[Z.Down,Z.Right,Z.Up,Z.Left];var Ni=N(_e(),1);var Me=N(ee(),1);var hr=N(_e(),1);function go(e){return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function Jr(){"use strict";Jr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&go(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(go(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function Tl(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function Dl(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){Tl(c,n,i,l,p,"next",u)}function p(u){Tl(c,n,i,l,p,"throw",u)}l(void 0)})}}var Im=function(){var e=Dl(Jr().mark(function t(r,n){return Jr().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",tr("/api/v1/media",{method:"GET",params:{ids:r},headers:{accept:"application/json, text/plain, */*","accept-language":"zh-CN,zh;q=0.9","content-type":"application/json",authorization:n}}));case 1:case"end":return c.stop()}},t)}));return function(r,n){return e.apply(this,arguments)}}(),Fl=Cn({fetcher:function(){var e=Dl(Jr().mark(function r(n){var i,c,l;return Jr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return c=n.map(function(m){return m.accountMediaIds}).join(","),l=(i=n[0])===null||i===void 0?void 0:i.authorization,u.next=4,Im(c,l);case 4:return u.abrupt("return",u.sent);case 5:case"end":return u.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}(),resolver:function(t,r){return t.filter(function(n){return r.accountMediaIds.includes(n.id)})},scheduler:Pn(1e3)}).fetch;var De={"fansly-media":"_fansly-media_u6ztz_4",tooltip:"_tooltip_u6ztz_21",time:"_time_u6ztz_28","post-icon":"_post-icon_u6ztz_31","is-unpaid":"_is-unpaid_u6ztz_51","is-retrieved":"_is-retrieved_u6ztz_54","is-post":"_is-post_u6ztz_55",duration:"_duration_u6ztz_58","duration-icon":"_duration-icon_u6ztz_70",media:"_media_u6ztz_76"};var bo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXYAAAF2CAYAAAB6XrNlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoNSURBVHgB7d2xblTpGcfhMyZrZExh09BQGGigISBRUUBWgorG6ZGSO0hyBSR3sHsHG4kL2B6kDT1SCA1U4BIqu/DIwpLtnHfksexhwCbG5px/nkeyPDMej7vffH7Pd84MmiPa2dlZGA6Hy4PB4F5792Z7f6m9vdAA8M21jV1rG7vS3nzZ3n4+Pz//a3t/7Si/OzjsCRsbG0vti/5le3v7z0IO8F39MjMz84+5ubmVLz3ps2GvFXob9cft9782AHRGu8j+6dy5c3/77M+nPVir9HaF/lt7c6kBoItW2tX7j9NW7zOTD6yvr98UdYDOGy3Aq9mTPziwYrdSB+idT1bueyv2mqmLOkDvjBbkq6ure5tb9sJeB0obUQfoo6WzZ88+Ht8ZjWJ2RzDvGgB6qx3JXK6RzGjF3kb9cQNAr21tbY22pw9qLjM7O7vaANB3a5ubm5dnfvjhh+UGgAQL1fSZ3Wu/ABDgzJkz92rGfrMBIEJ7zPRmhX2pASDFUoXdFRsBcizMNABEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcI87sGAmxubjZv3rxpPnz4MPo6CYuLi83169ebK1euNNBlg+FwuNNAj62vrzfPnj0bfT8N58+fb+7fvz/6Dl1kFEPvnWbUy/iNpP5LgC4Sdnrt7du3pxr1sfqbNfqBLjJjp9dev3594H7Nv2/fvt3Mzs4231KF/NWrV6M3krGTmuXDcVmx02urq6sH7t+4ceObR73UPL3eMPYTdrpK2Ilykgc0T+INA06CsAOEMWOnF05jn3rN0McHRMezeugjYafzTmOf+osXLw7scqnbNXqpmT30jVEMnXca+9T373YZs52RvrJip9OOs0+9Rjb1++/fvx/drwOrV69edUkA4gk7nXbYPvUnT55M/b3J0UoZDoej2NcsffKSANeuXRs9Pvm3oI+MYui0/2Wf+v6DoNNMm9nX61bc67XHs3UHT+krK3Z65bB96hX1yZX3NOO471+5V8jFnARW7ESZjHpF+8GDB83Dhw9HK/L9XMyLVMJOrBqp1Ir84sWLo2up12p8cm5ecX/69Km4E0XYiXXnzp1PRjf12GTca45fB1shhbATqQ5+Xrp0aerPauVeK/j9alukuJNC2IlTs/QvnTFaI5qau0+u5msnzVEOvELXCTtRLly4cKSdLeP5+2Tcj7qrBrpM2Ily9+7dIz/3c59detg+eOg6YSfK116PvZ5/7969T056qnn7tOvHQB8IO//36kBqzdynxX3yzFfoA2GHptnb575f7W2vPe7f48Oy4TiEHXZN+3CNivtpXDYYviVhJ8pxzyCdtlVyfOkBH15NXwg7vVaXC9iv5uLHXV1X2KfF/fnz5wceq62V0EWu7kivVdj3r6RrJ8tJ7WaZ/G9g8qJi0BVW7PRaxfVrtzh+C/U3fRAHXSXs9NrnziA9SeMTm6CrjGLovQrt8vLyaARTH6V3UnvPa+xTX+NPWoKuEnZi1GjkuOORyc9QffToUQN9YxQDEEbY6ZWT/KQjJyGRQtjptJPYpz5NvWFMXq7XPnX6yoydTjvNfeqT7FOnr6zY6TT71OHrCTudZp86fL3BcDjcaaAH7FOHoxF2gDBGMQBhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCCPsAGGEHSCMsAOEEXaAMMIOEEbYAcIIO0AYYQcII+wAYYQdIIywA4QRdoAwwg4QRtgBwgg7QBhhBwgj7ABhhB0gjLADhBF2gDDCDhBG2AHCCDtAGGEHCFNhX2sASLFWYV9pAEixMrOzs/OfBoAUL2vF/q8GgAjtYv35YHV1dWF2dvZde3+hAaDXNjc3F2cWFxfX2sL/swGg736ppg/q1sbGxtL29va7BoDempmZuTw3N7cy2sdeN9qw/9wA0Evt5OXnanndHowfrFn72bNn/93+cKkBoDcGg8FKG/Vb7ffReUl7Z56O5jKDwY/1hAaAXqhm77Z772TTA5cU2B3J/FHcAbqvWl3NHo9g9h6f9uQ6mNqOZH4zlgHopvFKfTLqZepFwOqJHz9+vOWAKkD37B4ovTUt6mVw2AvU6n1ra+vv7TvDnxoAvpfROUdnzpz56XNBHzs07GPtCy4Mh8Pl9uYf2sj/vv2+1DhbFeCk1MHQlfbrZV0mYH5+/tf9B0i/5L9MJ2JhIwgLQwAAAABJRU5ErkJggg==";var Fe=N(H(),1),en=N(H(),1),Vl=N(H(),1);function Gt(e){return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}var Pm=["id","url","realUrl","duration","className","isPreview","children"];function Ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ml(Object(r),!0).forEach(function(n){jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ml(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jm(e,t,r){return t=Nm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nm(e){var t=Am(e,"string");return Gt(t)=="symbol"?t:String(t)}function Am(e,t){if(Gt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(){"use strict";Zr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(s,o,a){s[o]=a.value},c=typeof Symbol=="function"?Symbol:{},l=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(s,o,a){return Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(a,f,h){return a[f]=h}}function y(s,o,a,f){var h=o&&o.prototype instanceof j?o:j,d=Object.create(h.prototype),w=new z(f||[]);return i(d,"_invoke",{value:T(s,a,w)}),d}function v(s,o,a){try{return{type:"normal",arg:s.call(o,a)}}catch(f){return{type:"throw",arg:f}}}t.wrap=y;var _="suspendedStart",S="suspendedYield",I="executing",b="completed",g={};function j(){}function L(){}function C(){}var V={};m(V,l,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==r&&n.call(G,l)&&(V=G);var E=C.prototype=j.prototype=Object.create(V);function D(s){["next","throw","return"].forEach(function(o){m(s,o,function(a){return this._invoke(o,a)})})}function M(s,o){function a(h,d,w,O){var x=v(s[h],s,d);if(x.type!=="throw"){var F=x.arg,A=F.value;return A&&Gt(A)=="object"&&n.call(A,"__await")?o.resolve(A.__await).then(function(q){a("next",q,w,O)},function(q){a("throw",q,w,O)}):o.resolve(A).then(function(q){F.value=q,w(F)},function(q){return a("throw",q,w,O)})}O(x.arg)}var f;i(this,"_invoke",{value:function(d,w){function O(){return new o(function(x,F){a(d,w,x,F)})}return f=f?f.then(O,O):O()}})}function T(s,o,a){var f=_;return function(h,d){if(f===I)throw new Error("Generator is already running");if(f===b){if(h==="throw")throw d;return{value:e,done:!0}}for(a.method=h,a.arg=d;;){var w=a.delegate;if(w){var O=R(w,a);if(O){if(O===g)continue;return O}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(f===_)throw f=b,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);f=I;var x=v(s,o,a);if(x.type==="normal"){if(f=a.done?b:S,x.arg===g)continue;return{value:x.arg,done:a.done}}x.type==="throw"&&(f=b,a.method="throw",a.arg=x.arg)}}}function R(s,o){var a=o.method,f=s.iterator[a];if(f===e)return o.delegate=null,a==="throw"&&s.iterator.return&&(o.method="return",o.arg=e,R(s,o),o.method==="throw")||a!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var h=v(f,s.iterator,o.arg);if(h.type==="throw")return o.method="throw",o.arg=h.arg,o.delegate=null,g;var d=h.arg;return d?d.done?(o[s.resultName]=d.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,g):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,g)}function W(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function $(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function z(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(W,this),this.reset(!0)}function Y(s){if(s||s===""){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var a=-1,f=function h(){for(;++a<s.length;)if(n.call(s,a))return h.value=s[a],h.done=!1,h;return h.value=e,h.done=!0,h};return f.next=f}}throw new TypeError(Gt(s)+" is not iterable")}return L.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:L,configurable:!0}),L.displayName=m(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===L||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,C):(s.__proto__=C,m(s,u,"GeneratorFunction")),s.prototype=Object.create(E),s},t.awrap=function(s){return{__await:s}},D(M.prototype),m(M.prototype,p,function(){return this}),t.AsyncIterator=M,t.async=function(s,o,a,f,h){h===void 0&&(h=Promise);var d=new M(y(s,o,a,f),h);return t.isGeneratorFunction(o)?d:d.next().then(function(w){return w.done?w.value:d.next()})},D(E),m(E,u,"Generator"),m(E,l,function(){return this}),m(E,"toString",function(){return"[object Generator]"}),t.keys=function(s){var o=Object(s),a=[];for(var f in o)a.push(f);return a.reverse(),function h(){for(;a.length;){var d=a.pop();if(d in o)return h.value=d,h.done=!1,h}return h.done=!0,h}},t.values=Y,z.prototype={constructor:z,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!o)for(var a in this)a.charAt(0)==="t"&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function f(F,A){return w.type="throw",w.arg=o,a.next=F,A&&(a.method="next",a.arg=e),!!A}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],w=d.completion;if(d.tryLoc==="root")return f("end");if(d.tryLoc<=this.prev){var O=n.call(d,"catchLoc"),x=n.call(d,"finallyLoc");if(O&&x){if(this.prev<d.catchLoc)return f(d.catchLoc,!0);if(this.prev<d.finallyLoc)return f(d.finallyLoc)}else if(O){if(this.prev<d.catchLoc)return f(d.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return f(d.finallyLoc)}}}},abrupt:function(o,a){for(var f=this.tryEntries.length-1;f>=0;--f){var h=this.tryEntries[f];if(h.tryLoc<=this.prev&&n.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var w=d?d.completion:{};return w.type=o,w.arg=a,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(w)},complete:function(o,a){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&a&&(this.next=a),g},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),$(f),g}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var f=this.tryEntries[a];if(f.tryLoc===o){var h=f.completion;if(h.type==="throw"){var d=h.arg;$(f)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,f){return this.delegate={iterator:Y(o),resultName:a,nextLoc:f},this.method==="next"&&(this.arg=e),g}},t}function Rl(e,t,r,n,i,c,l){try{var p=e[c](l),u=p.value}catch(m){r(m);return}p.done?t(u):Promise.resolve(u).then(n,i)}function zl(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var c=e.apply(t,r);function l(u){Rl(c,n,i,l,p,"next",u)}function p(u){Rl(c,n,i,l,p,"throw",u)}l(void 0)})}}function Qr(e,t){return Fm(e)||Dm(e,t)||Tm(e,t)||Lm()}function Lm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tm(e,t){if(!!e){if(typeof e=="string")return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gl(e,t)}}function Gl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function Fm(e){if(Array.isArray(e))return e}function Mm(e,t){if(e==null)return{};var r=km(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function km(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function wo(e){var t=e.id,r=e.url,n=r===void 0?"":r,i=e.realUrl,c=i===void 0?"":i,l=e.duration,p=e.className,u=e.isPreview,m=e.children,y=Mm(e,Pm),v=(0,Me.useState)(n),_=Qr(v,2),S=_[0],I=_[1],b=(0,Me.useState)(c),g=Qr(b,2),j=g[0],L=g[1],C=(0,Me.useState)(!(n||c)),V=Qr(C,2),k=V[0],G=V[1],E=(0,Me.useState)(),D=Qr(E,2),M=D[0],T=D[1],R=(0,Me.useRef)(null),W=En(R,{rootMargin:"50px"}),$=Qr(W,1),z=$[0],Y=ro(),s=Y.authorization,o=Y.getContainer,a=Y.queryMediaStatus,f=Y.showPost,h=ae(zl(Zr().mark(function x(){var F,A,q,J,ve,Q,K;return Zr().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(!n&&t)){X.next=20;break}return X.prev=1,X.next=4,Fl({accountMediaIds:t,authorization:s||""});case 4:if(q=X.sent,J=q?.[0],J){X.next=8;break}return X.abrupt("return");case 8:ve=["video","audio"].includes(qn(J.mimetype)),Q=ve?(F=J.variants[0])===null||F===void 0||(F=F.locations)===null||F===void 0||(F=F[0])===null||F===void 0?void 0:F.location:(A=J.locations)===null||A===void 0||(A=A[0])===null||A===void 0?void 0:A.location,ve&&L((K=J.locations)===null||K===void 0||(K=K[0])===null||K===void 0?void 0:K.location),I(Q),X.next=17;break;case 14:X.prev=14,X.t0=X.catch(1),X.t0;case 17:return X.prev=17,G(!1),X.finish(17);case 20:case"end":return X.stop()}},x,null,[[1,14,17,20]])}))),d=ae(zl(Zr().mark(function x(){var F,A;return Zr().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(f&&!u&&a&&t)){J.next=12;break}return J.prev=1,J.next=4,a(t);case 4:F=J.sent,A=F?.[0],T(A),J.next=12;break;case 9:J.prev=9,J.t0=J.catch(1),J.t0;case 12:case"end":return J.stop()}},x,null,[[1,9]])})));(0,Me.useEffect)(function(){z&&(h(),d())},[h,d,z,f]);var w=(0,Me.useMemo)(function(){if(!f)return null;var x=!1,F="",A="",q=null;switch(M?.status){case 1:x=!0,F=De["is-paid"],q=(0,Fe.jsx)(Sn,{}),A="Bought";break;case 2:x=!0,F=De["is-unpaid"],q=(0,Fe.jsx)(wn,{}),A="Sent";break;case 3:x=!0,F=De["is-retrieved"],q=(0,Fe.jsx)(_n,{}),A="Unsent";break;case 4:x=!0,F=De["is-free"],A="Free";break;case 5:x=!0,F=De["is-post"],A="Post";break;case 9:default:break}return x?(0,en.jsxs)("div",{className:(0,hr.default)(De["post-icon"],F),children:[q,A]}):null},[M?.status,f]),O=(0,Me.useMemo)(function(){return S?{destroyOnClose:!0,getContainer:o,zIndex:1500,imageRender:function(){return(0,Fe.jsx)(Be,{render:function(A){var q=A.Eye,J=A.imgClassNames;return(0,en.jsxs)(Vl.Fragment,{children:[j?(0,Fe.jsx)("video",{className:(0,hr.default)(J),src:j,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,controls:!0}):(0,Fe.jsx)(dt,{className:(0,hr.default)(J),src:S,preview:!1}),(0,Fe.jsx)(q,{style:{top:40,left:40}})]})}})},toolbarRender:function(){return null}}:!1},[S,j]);return(0,en.jsxs)("div",kl(kl({className:(0,hr.default)(De["fansly-media"],p),ref:R},y),{},{children:[k?(0,Fe.jsx)(dt,{className:De.media,src:bo,preview:!1}):(0,Fe.jsx)(Be,{render:function(F){var A=F.imgClassNames;return(0,Fe.jsx)(Kn,{className:(0,hr.default)(A,De.media),lazy:!0,realSrc:S,errorSrc:bo,loadingSrc:bo,preview:O})}}),w,l&&(0,en.jsxs)("div",{className:De.duration,children:[(0,Fe.jsx)(xn,{className:De["duration-icon"]}),Vn(l)]}),m]}))}var So={"select-icon":"_select-icon_mg71f_1",icon:"_icon_mg71f_16",text:"_text_mg71f_20"};var Yl=N(_e(),1),ji=N(H(),1),Wl=N(H(),1);function tn(e){return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}var Rm=["className","size","text"];function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ql(Object(r),!0).forEach(function(n){zm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zm(e,t,r){return t=Gm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gm(e){var t=Vm(e,"string");return tn(t)=="symbol"?t:String(t)}function Vm(e,t){if(tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qm(e,t){if(e==null)return{};var r=$m(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function $m(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Vt(e){var t=e.className,r=t===void 0?"":t,n=e.size,i=n===void 0?98:n,c=e.text,l=c===void 0?"Select":c,p=qm(e,Rm);return(0,Wl.jsxs)("div",$l($l({className:(0,Yl.default)(So["select-icon"],r),style:{width:i,height:i}},p),{},{children:[(0,ji.jsx)(ns,{className:So.icon,style:{color:"#1677ff"}}),(0,ji.jsx)("span",{className:So.text,children:l})]}))}var Oe={"media-card":"_media-card_er9d0_1","operation-mask":"_operation-mask_er9d0_12","drag-mask":"_drag-mask_er9d0_15",media:"_media_er9d0_1",preview:"_preview_er9d0_19","preview-delete":"_preview-delete_er9d0_26","svg-icon":"_svg-icon_er9d0_32","is-drag":"_is-drag_er9d0_72"};var qe=N(H(),1),Ai=N(H(),1);function rn(e){return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function Ym(e,t,r){return t=Wm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wm(e){var t=Um(e,"string");return rn(t)=="symbol"?t:String(t)}function Um(e,t){if(rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nn(e){var t=e.id,r=e.url,n=e.duration,i=e.realUrl,c=e.previewId,l=e.previewUrl,p=e.previewRealUrl,u=e.previewDuration,m=e.dragMode,y=m===void 0?!1:m,v=e.setAllowDrag,_=e.onDelete,S=e.onDeletePreview,I=e.onAddPreview,b=e.children;return(0,Ai.jsxs)("div",{className:Oe["media-card"],children:[(0,qe.jsx)(wo,{className:Oe.media,id:t,url:r,realUrl:i,duration:n}),c?(0,qe.jsx)(wo,{className:Oe.preview,id:c,url:l,realUrl:p,duration:u,isPreview:!0,children:(0,qe.jsx)(Do,{className:(0,Ni.default)(Oe["svg-icon"],Oe["preview-delete"]),onClick:function(){return S?.(t)}})}):(0,qe.jsx)("div",{className:Oe.preview,children:(0,qe.jsx)(Vt,{size:82,text:"Add free preview",onClick:function(){return I?.(t)}})}),y?(0,qe.jsx)("div",{className:Oe["drag-mask"],children:(0,qe.jsx)(Mo,{className:Oe["svg-icon"]})}):null,(0,Ai.jsxs)("div",{className:(0,Ni.default)(Oe["operation-mask"],Ym({},Oe["is-drag"],y)),children:[y?(0,qe.jsx)(ka,{className:Oe["svg-icon"],onClick:function(){return v?.(!1)}}):(0,qe.jsx)(Mo,{className:Oe["svg-icon"],onClick:function(){return v?.(!0)}}),(0,qe.jsx)(Do,{className:Oe["svg-icon"],onClick:function(){return _?.(t)}})]}),b]})}var Li={"media-card-wrapper":"_media-card-wrapper_1v0fd_1","drag-handle":"_drag-handle_1v0fd_5"};var St=N(H(),1),Bl=N(H(),1);function on(e){return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}var Bm=["id"];function Ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ul(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hm(e,t,r){return t=Km(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Km(e){var t=Xm(e,"string");return on(t)=="symbol"?t:String(t)}function Xm(e,t){if(on(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(on(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jm(e,t){if(e==null)return{};var r=Qm(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Qm(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Zm(e){var t=e.id,r=Jm(e,Bm),n=Ll({id:t}),i=n.attributes,c=n.listeners,l=n.setNodeRef,p=n.transform,u=n.transition,m={transform:bt.Transform.toString(p),transition:u};return(0,St.jsx)("div",{ref:l,style:m,className:Li["media-card-wrapper"],children:(0,St.jsx)(nn,yr(yr({id:t},r),{},{dragMode:!0,children:(0,St.jsx)("div",yr(yr({className:Li["drag-handle"]},i),c))}))})}function Ti(e){var t=e.className,r=t===void 0?"":t,n=e.mediaList,i=e.onReorder,c=e.setAllowDrag,l=e.onDelete,p=e.onAdd,u=ll(Pi(mr),Pi(pr)),m=function(v){var _=v.active,S=v.over;if(S&&_.id!==S.id){var I=n.findIndex(function(g){return g.id===_.id}),b=n.findIndex(function(g){return g.id===S.id});i(yo(n,I,b))}};return(0,St.jsx)(Ol,{sensors:u,collisionDetection:fl,onDragEnd:m,children:(0,St.jsx)(Nl,{items:n.map(function(y){return y.id}),strategy:vo,children:(0,Bl.jsxs)("div",{className:r,children:[n.map(function(y){return(0,St.jsx)(Zm,yr(yr({},y),{},{setAllowDrag:c,onDelete:l}),y.id)}),(0,St.jsx)(Vt,{size:98,onClick:p})]})})})}var $e={"script-item":"_script-item_10z94_1","media-section":"_media-section_10z94_9","media-box":"_media-box_10z94_16","media-list":"_media-list_10z94_20","media-price":"_media-price_10z94_26","media-price-input":"_media-price-input_10z94_30"};var Ye=N(H(),1),qt=N(H(),1);function an(e){return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}function Di(e){return rh(e)||th(e)||Kl(e)||eh()}function eh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function th(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rh(e){if(Array.isArray(e))return Fi(e)}function Hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hl(Object(r),!0).forEach(function(n){nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nh(e,t,r){return t=oh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oh(e){var t=ih(e,"string");return an(t)=="symbol"?t:String(t)}function ih(e,t){if(an(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(an(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vr(e,t){return ch(e)||sh(e,t)||Kl(e,t)||ah()}function ah(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kl(e,t){if(!!e){if(typeof e=="string")return Fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fi(e,t)}}function Fi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,c,l,p=[],u=!0,m=!1;try{if(c=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(p.push(n.value),p.length!==t);u=!0);}catch(y){m=!0,i=y}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw i}}return p}}function ch(e){if(Array.isArray(e))return e}var lh=40,Jl=(0,me.forwardRef)(function(t,r){var n=t.medias,i=t.scriptContent,c=t.price,l=t.onFanslyError,p=(0,me.useState)(!1),u=vr(p,2),m=u[0],y=u[1],v=(0,me.useState)(!1),_=vr(v,2),S=_[0],I=_[1],b=(0,me.useState)(null),g=vr(b,2),j=g[0],L=g[1],C=(0,me.useState)(n||[]),V=vr(C,2),k=V[0],G=V[1],E=(0,me.useState)(i||""),D=vr(E,2),M=D[0],T=D[1],R=(0,me.useState)(c||0),W=vr(R,2),$=W[0],z=W[1],Y=ro(),s=Y.authorization,o=Y.maxCount,a=o===void 0?1:o,f=Y.getContainer,h=Y.modalClassName,d=Y.showPost,w=Y.queryMediaStatus;(0,me.useImperativeHandle)(r,function(){return{getScriptDetail:function(){return{medias:k,scriptContent:M,price:$}}}});var O=(0,me.useCallback)(function(){L(null),I(!0)},[]),x=(0,me.useCallback)(function(K){L(K),I(!0)},[]),F=(0,me.useCallback)(function(K){G(k.filter(function(te){return te.id!==K}))},[k]),A=(0,me.useCallback)(function(K){var te=k.map(function(X){return X.id===K&&(delete X.previewId,delete X.previewType,delete X.previewMimetype,delete X.previewUrl,delete X.previewRealUrl,delete X.previewDuration),X});G(te)},[k]),q=ae(function(K){if(j){var te=K?.[0],X=k.map(function(ge){return ge.id===j?_o(_o({},ge),{},{previewId:te.id,previewType:te.type,previewMimetype:te.mimetype,previewUrl:te.url,previewDuration:te.duration,previewRealUrl:te.realUrl}):ge});G(X)}else G(function(ge){return Di(new Map([].concat(Di(K),Di(ge)).map(function(Ze){return[Ze.id,Ze]})).values()).slice(0,lh)});I(!1)}),J=function(te){G(te)},ve=ae(function(K){l?.(K)}),Q=(0,me.useCallback)(function(K){K&&K<1?z(1):z(K||0)},[]);return(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("div",{className:$e["script-item"],children:[(0,Ye.jsx)("label",{children:"Text"}),(0,Ye.jsx)("div",{className:$e["script-content"],children:(0,Ye.jsx)(ft.TextArea,{placeholder:"Type a message...",rows:4,maxLength:4e3,value:M,onChange:function(te){return T(te.target.value)}})})]}),(0,qt.jsxs)("div",{className:$e["script-item"],children:[(0,Ye.jsx)("label",{children:"Media (Optional)"}),(0,qt.jsxs)("div",{className:(0,Xl.default)($e["script-content"],$e["media-section"]),children:[(0,qt.jsxs)("div",{className:$e["media-price"],children:["Require purchase",(0,Ye.jsx)(ma,{className:$e["media-price-input"],min:0,max:500,precision:2,prefix:"$",value:$,onChange:Q})]}),(0,Ye.jsx)("div",{className:$e["media-box"],children:m?(0,Ye.jsx)(Ti,{className:$e["media-list"],mediaList:k,onReorder:J,setAllowDrag:y,onDelete:F,onAdd:O}):(0,qt.jsxs)("div",{className:$e["media-list"],children:[k.map(function(K){return(0,Ye.jsx)(nn,_o(_o({},K),{},{dragMode:!1,setAllowDrag:y,onAddPreview:x,onDelete:F,onDeletePreview:A}),K.id)}),(0,Ye.jsx)(Vt,{size:98,onClick:O})]})})]})]}),S&&(0,Ye.jsx)(eo,{visible:!0,onCancel:function(){return I(!1)},onOk:q,onFanslyError:ve,authorization:s,maxCount:j?1:a,getContainer:f,modalClassName:h,showPost:d,queryMediaStatus:w})]})});var Mi=N(H(),1);function sn(e){return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}var uh=["accountId","authorization","getContainer","maxCount","showPost","queryMediaStatus","modalClassName"];function Ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ql(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return t=ph(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ph(e){var t=mh(e,"string");return sn(t)=="symbol"?t:String(t)}function mh(e,t){if(sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(e,t){if(e==null)return{};var r=yh(e,t),n,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function yh(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,c;for(c=0;c<n.length;c++)i=n[c],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ki=(0,Zl.forwardRef)(function(t,r){var n=t.accountId,i=t.authorization,c=t.getContainer,l=t.maxCount,p=t.showPost,u=t.queryMediaStatus,m=t.modalClassName,y=hh(t,uh);return(0,Mi.jsx)(qc,{accountId:n,authorization:i,maxCount:l,showPost:p,queryMediaStatus:u,getContainer:c,modalClassName:m,children:(0,Mi.jsx)(Jl,fh({ref:r},y))})});var vh=async e=>Xt.post("/service-fansly-web/media/getFansMediaStatus",e).then(async t=>{let{success:r,data:n}=t.data;return r?Object.keys(n).map(i=>({id:i,...n[i]})):[]}),eu=({accountId:e,fansId:t})=>Cn({fetcher:async r=>{let n=r.flat();return await vh({accountId:e,fansId:t,mediaIds:n})},resolver:(r,n)=>r.filter(i=>typeof n=="string"?n===i.id:n.includes(i.id)),scheduler:Pn(1e3)}).fetch;function Ri({getContainer:e,onSend:t}){let[r]=pt(),n=r?.preview?.data,i=(0,Qe.useRef)(null),c=(0,Qe.useMemo)(()=>{let{accountId:m}=je(),y=tu();return eu({accountId:m,fansId:y})},[]),l=ae(async()=>{let{medias:m,scriptContent:y,price:v}=i.current?.getScriptDetail(),_={...n,scriptContent:y,price:(v||0)*100,medias:m.map(({id:S,type:I,mimetype:b,duration:g,previewId:j,previewType:L,previewMimetype:C,previewDuration:V})=>({id:S,type:I,mimetype:b,duration:g,previewId:j,previewType:L,previewMimetype:C,previewDuration:V}))};await t(_)}),{run:p,loading:u}=On(l,{manual:!0,onError:()=>{},onSuccess:m=>{}});return Qe.default.createElement(es,{modalProps:{closeIcon:null,footer:Qe.default.createElement("div",null,Qe.default.createElement(xr,{onClick:()=>Pr({open:!1,data:void 0})},"Cancel"),Qe.default.createElement(xr,{className:"modal-footer-btn-color",type:"primary",onClick:p,loading:u},"Send"))},visible:r.preview?.open,title:"Message preview",getContainer:e,className:zo["script-preview"]},Qe.default.createElement(ki,{authorization:Tn()?.token,medias:n?.medias,price:(n?.price??0)/100,scriptContent:n?.scriptContent,getContainer:e,modalClassName:zo["script-modal"],showPost:!0,queryMediaStatus:c,ref:i}))}var ru=(0,B.forwardRef)((e,t)=>{let{setMsgScript:r,needReplaceName:n,groupId:i,onPopoverClose:c}=e,l=la(),p=(0,B.useRef)(null),u=(0,B.useRef)(null),m=(0,B.useRef)(null),[y,v]=(0,B.useState)(""),[{loading:_,hasNext:S,isError:I,scriptList:b,scriptParams:g,isLoadingApi:j}]=pt(),L=async T=>{let R={...g,page:1,size:10,tagId:T.id};Cr(R),ys(T)},[C,V]=(0,B.useState)(!1);(0,B.useEffect)(()=>{V(sessionStorage.getItem(ta)==="true")},[]),(0,B.useImperativeHandle)(t,()=>({initText:()=>{v("")}})),(0,B.useEffect)(()=>{let T=je();return m.current=T,ps(T.accountId,l,T.accountId),()=>{}},[]);let k=Fo(async T=>{let R={...g,page:1,size:10,text:T};Cr(R)},{wait:300}),{run:G}=Fo(()=>{p?.current?.scrollHeight-20<p?.current?.scrollTop+p?.current?.clientHeight&&S&&!_&&Cr({...g,page:g.page+1})},{wait:100}),E=async T=>{T=JSON.parse(JSON.stringify(T));let R=n&&T?.scriptContent.indexOf("{name}")>-1;jn(!0);try{if(R){let W=await ca(m.current?.accountId,l,T.scriptContent);W?.status===0&&(T.scriptContent=W?.data)}jn(!1)}catch(W){jn(!1)}Pr({data:T,open:!0})},D=async T=>{try{let R=await sa({id:T.id,groupId:i,creatorAccountId:m?.current?.accountId,scriptContent:T.scriptContent,price:T.price,medias:T.medias});R.data?.status===0?(await ra(2e3),Pr({open:!1,data:void 0}),c?.()):Re.error(R.data?.message||"error")}catch{}return!0},M=(0,B.useMemo)(()=>_?B.default.createElement(B.default.Fragment,null):B.default.createElement("div",{className:rt["msg-script-empty"]},I?B.default.createElement(To.RequestError,{text:"No predefined messages",onRetry:()=>{hs(!1),Cr(g)}}):B.default.createElement(To.Empty,{text:"No Data"})),[_,I]);return B.default.createElement(B.default.Fragment,null,B.default.createElement("div",{className:rt["msg-script"],ref:u},B.default.createElement(gs,{onSelected:L}),B.default.createElement("div",{className:rt["msg-script-list"]},_?B.default.createElement(tt,null):null,B.default.createElement("div",{className:rt["msg-script-list-wrap"],ref:p,onScrollCapture:G},b?.length?b?.map((T,R)=>B.default.createElement(Cs,{item:T,key:R,onPreview:E})):M)),B.default.createElement("div",{className:rt["msg-script-search"]},B.default.createElement(ft,{prefix:B.default.createElement(Pa,{color:Na.T3}),allowClear:{clearIcon:B.default.createElement("span",{className:rt["msg-script-clear"]},B.default.createElement(_a,{color:"currentColor",size:16}))},onChange:T=>{k.run(T.target.value),v(T.target.value)},value:y,bordered:!1,size:"large",placeholder:"Search by script name or description"}),!C&&B.default.createElement("div",{className:rt["msg-script-manage"],onClick:()=>{be.send("DIRECTION_TO_PAGE",{url:"/fansly/scripts",creatorId:m.current?.modelId})}},"More Scripts")),j?B.default.createElement("div",{className:rt["api-loading"]},B.default.createElement(tt,{spinning:j})):null),B.default.createElement(Ri,{getContainer:()=>u?.current,onSend:D}))});ru.displayName="MsgScript";var nu=ru;var zi={"icon-script":"_icon-script_1m0wy_2","tool-bar-wrapper":"_tool-bar-wrapper_1m0wy_20","hbd-emojis-container":"_hbd-emojis-container_1m0wy_27","fansly-script-quick-modal":"_fansly-script-quick-modal_1m0wy_30"};var gh=({groupId:e})=>{let[t]=pt(),r=(0,ye.useRef)(null),[n,i]=(0,ye.useState)(!1);(0,ye.useEffect)(()=>{let u=new IntersectionObserver(m=>{m.forEach(y=>{y.isIntersecting||i(!1)})});return u.observe(r.current),()=>{u.disconnect()}},[]);let[c,l]=(0,ye.useState)([]),p=async u=>{be.invoke("SET_CUSTOM_STORE","fansly-script-emojis",u),l(u||[])};return(0,ye.useEffect)(()=>{be.invoke("GET_CUSTOM_STORE","fansly-script-emojis").then(u=>{l(u.data||[])})},[]),ye.default.createElement("div",{className:zi["tool-bar-wrapper"]},ye.default.createElement(Da,{quickSelect:{setting:!0,emojis:c,maxLength:7,onChange:u=>{p(u)}},quickModalProps:{rootClassName:zi["fansly-script-quick-modal"]},onPickEmoji:async u=>{await xs(".message-input",u)}}),ye.default.createElement(yn,{trigger:"click",open:n,overlayStyle:{width:"calc(100vw - 380px)"},content:ye.default.createElement(nu,{groupId:e,onPopoverClose:()=>i(!1)}),onOpenChange:u=>{i(u)},destroyTooltipOnHide:!0},ye.default.createElement(as,{size:"moderate",style:{flex:"0 0 auto"},color:"default",onClick:()=>{i(!0)},ref:r},ye.default.createElement(qa,{size:16,style:{marginRight:"4px"}}),"Scripts")))};async function iu(e){let t=await ke("app-group-message-input"),r=t.querySelector(".flex-row.flex-align-center");if(t){let n="if-message-tool-bar-wrapper",i=document.getElementById(n);i&&i.remove();let c=document.createElement("div");c.id=n,c.style.display="block",c.innerHTML="",ou.default.render(ye.default.createElement(gh,{groupId:e}),c),t.insertBefore(c,t.children[0])}}var cn={"fan-insights":"_fan-insights_1pgxc_2","fan-insights-header":"_fan-insights-header_1pgxc_8","fan-insights-header-title":"_fan-insights-header-title_1pgxc_14","fans-item-wrap":"_fans-item-wrap_1pgxc_20","fans-item-title":"_fans-item-title_1pgxc_26","fans-lists-container":"_fans-lists-container_1pgxc_32","fans-lists-item":"_fans-lists-item_1pgxc_40"};var xo="if-fan-insights",Oo,bh=({userId:e,accountId:t,modelId:r,groupId:n,authorization:i})=>$t.default.createElement(ss,{userId:e,spentAmount:0,accountId:t,modelId:r,groupId:n,sourcePlatform:"fansly",authorization:i}),_t=null,gr=async e=>{let{userId:t,accountId:r,modelId:n,groupId:i,authorization:c}=e,l=()=>{let u=document.querySelector(`#${xo}`);u&&u.remove()};l();let p=await ke(".messages-wrapper");if(_t&&(_t.disconnect(),_t=null),p&&t){let u=document.createElement("div");u.style.display="block",u.innerHTML="",u.id=xo,l(),Gi.default.render($t.default.createElement(bh,{...e,key:xo}),u),p.appendChild(u),iu(i),wh(t,r)}_t=new MutationObserver(u=>{let m=document.querySelector(`#${xo}`);if(!window.location.pathname.includes(`messages/${i}`)){_t&&(_t.disconnect(),_t=null);return}m||gr(e)}),_t.observe(p,{childList:!0})},Vi=async e=>{let t=await ke("#toolbar-fans-group");if(!t||!e?.length)return;let r=$t.default.createElement("div",{className:cn["fans-item-wrap"]},$t.default.createElement("div",{className:cn["fans-item-title"]},"Fan lists: "),$t.default.createElement("div",{className:cn["fans-lists-container"]},e.map((n,i)=>$t.default.createElement("span",{key:i,className:cn["fans-lists-item"],title:n?.label},n?.label))));Gi.default.render(r,t)},wh=async(e,t)=>{let n=(await oa(t,e))?.data?.filter(i=>(i.items?.length||0)>0);Vi(n)},au=async(e,t)=>{if(!window.location.pathname.includes(`messages/${e}`)){gr({userId:void 0,accountId:"",modelId:"",groupId:"",authorization:""});return}let r=JSON.parse(localStorage.getItem(ut)),n=r?.accountId,i=r?.session?.meConfig?.account?.id,c=r?.session?.authorization;Oo=(t?.users).find(u=>u.userId!==i)?.userId,gr(Oo&&n&&i&&e&&c?{userId:Oo,accountId:n,modelId:i,groupId:e,authorization:c}:{userId:void 0,accountId:n,modelId:i,groupId:e,authorization:c})};function tu(){return Oo}var ln=new Map;function su(e){Xt({url:"/service-fansly-upload/batch_upload_fansly_data",method:"POST",data:e})}function cu(e){let{response:t}=e;try{let{success:r,response:n}=JSON.parse(t);if(!r)return;let{accountMediaBundles:i,accountMedia:c}=n,l=i?.[0]?.id,p=i?.[0]?.permissions?.permissionFlags?.[0]?.price;l&&ln.set(l,{price:p,mediaIds:c.map(({mediaId:u})=>u)})}catch(r){}}function lu(e){let{response:t}=e;try{let{success:r,response:n}=JSON.parse(t);if(!r)return;let{id:i,mediaId:c}=n[0]||{},l=n?.[0]?.permissions?.permissionFlags?.[0]?.price;i&&ln.set(i,{price:l,mediaIds:[c]})}catch(r){}}function uu(e){let{response:t}=e;try{let{success:r,response:n}=JSON.parse(t);if(!r)return;let{attachments:i,id:c,type:l,createdAt:p,groupId:u,interactions:m}=n,y=m?.[0]?.userId,v=(i||[]).map(({contentId:I,contentType:b})=>{if(ln.has(I)){let g=ln.get(I);return ln.delete(I),{...g,contentId:I,contentType:b}}return null}).filter(Boolean),{accountId:_}=je(),S={accountId:_,uploadSource:"Basic",uploadType:"Chatter",dataList:[{fansId:y,groupId:u,msgId:c,type:l,sendAt:p*1e3,medias:v}]};su(S)}catch(r){}}function fu(e){let{response:t}=e;try{let{success:r,response:n}=JSON.parse(t);if(!r)return;let{id:i,type:c,deletedAt:l,groupId:p,interactions:u}=n,m=u?.[0]?.userId,{accountId:y}=je(),v={accountId:y,uploadSource:"Basic",uploadType:"Unsend",dataList:[{fansId:m,groupId:p,msgId:i,type:c,unsendAt:l*1e3}]};su(v)}catch(r){}}var du=e=>{let{config:t}=e,{url:r}=t},pu=e=>{let{status:t,config:r,response:n}=e.response,{url:i,method:c,body:l}=r,{pathname:p}=new URL(i);if(t==401&&!i.includes("/api/v1/login")&&be.send("ON_FANSLY_TOKEN_EXPIRED",{message:"page is landing-page",url:location.href,browserInfo:JSON.parse(localStorage.getItem(ut))}),i.includes("/api/v1/login")){us(e)}if(i.includes("/api/v1/account/me")&&t==200){let u=e?.response?.config?.headers?.authorization,m=JSON.parse(n);be.send("ON_FANSLY_LOGIN",{...m,token:u})}if(i.includes("/api/v1/lists/account")){let m=JSON.parse(n)?.data?.lists;Vi(m)}if(i.includes("/api/v1/group/")){let u=JSON.parse(n),m=u.response;if(u.success&&m){let v=i.split("/api/v1/group/")[1].split("/?")[0];au(v,m)}}location.pathname.startsWith("/messages")&&(i.includes("/api/v1/message/delete")&&fu(e.response),p==="/api/v1/account/media/bundle"&&cu(e.response),p==="/api/v1/account/media"&&lu(e.response),p==="/api/v1/message"&&c==="POST"&&uu(e.response))};function mu(e){try{let t=document.querySelector("html"),r=new MutationObserver(function(i){i.forEach(function(c){c.type==="attributes"&&c.attributeName==="class"&&(t.className,t?.className?.includes("dark")?e.enableGlobalDarkMode():e.disableGlobalDarkMode())})}),n={attributes:!0,attributeOldValue:!0,attributeFilter:["class"]};r.observe(t,n)}catch(t){}}function hu(e,t){switch(e){case"/":case"":case"/home":return"home";case`/${t}/posts`:return"profile";case"/subscriptions":return"subscriptions";case"/creator/vault":return"media-vault";case"/bookmarks/2007":return"media-collection";case"/scheduled":return"scheduled";case"/lists":return"lists";case"/bookmarks":return"bookmarks";case"/notifications":return"notifications";case"/creator":return"creator";case"/creator/earnings/statistics":return"earning-statistics";case"/creator/profilestats":return"profile-statistics";case"/creator/trackinglinks":return"tracking-links";case"/affiliates":return"referrals";case"/settings":return"settings";default:break}return e.startsWith("/messages")?"messages":""}var yu={hide:e=>`${e} { display: none !important; }`,disable:e=>`${e} { pointer-events: none !important; opacity: 0.3 !important; cursor: not-allowed !important; }`,blur:e=>`${e} { filter: blur(5px) !important; user-select: none !important; }`,restrict:e=>`
    ${e} { position: relative !important; overflow: hidden !important; pointer-events: none !important; }
    ${e}::after { 
      content: "Access Restricted"; 
      position: absolute !important; 
      top: 0 !important; 
      left: 0 !important; 
      right: 0 !important; 
      bottom: 0 !important; 
      background: rgba(0,0,0,0.8) !important; 
      color: white !important; 
      display: flex !important; 
      align-items: center !important; 
      justify-content: center !important; 
      font-size: 16px !important; 
      z-index: 9999 !important; 
    }
  `};function Sh(e){return!e||!e.trim()?[]:e.split(",").map(t=>t.trim()).filter(t=>t.length>0)}function _h(e,t){if(!e||e.trim()==="")return!0;let n=(c=>{try{return new URL(c).pathname}catch{return c}})(t),i=e.trim();try{return new RegExp(i,"i").test(n)}catch(c){return!1}}function vu(e){let t=document.getElementById("access-control-style");t&&t.remove();let r=window.location.href,n=[];if(Object.values(e.customProjects).forEach(c=>{c.enabled&&_h(c.urlPattern,r)&&Sh(c.selector).forEach(p=>{p.trim()&&(c.behavior==="restrict"?n.push(yu.restrict(p)):n.push(yu[c.behavior](p)))})}),n.length===0)return;let i=document.createElement("style");i.id="access-control-style",i.textContent=n.join(`
`),document.head.appendChild(i)}var{default:xh}=await import("./fansly-TENZQXGQ.mjs");var gu=(e,t)=>{let r={};e==="fansly"&&(r=xh),Object.keys(r).forEach(n=>{let i=r[n];if(i.code){let c=i.code.split("-")[0],l=i.code.split("-")[1];c.toLowerCase()==="m"?i.enabled=!Ka.auth([Number(l)]):c.toLowerCase()==="f"?i.enabled=!In.auth([Number(l)]):(i.enabled=!0,t(n,i))}else i.enabled=!0,t(n,i)}),vu({customProjects:r})};var ju=N(ee()),Nu=N(mn());var Eo={"wallet-history":"_wallet-history_v7c4p_1","export-icon":"_export-icon_v7c4p_7"};var ne=N(ee());var Yt={"export-icon":"_export-icon_17xaq_2",modal:"_modal_17xaq_15",creator:"_creator_17xaq_33",description:"_description_17xaq_38","export-box":"_export-box_17xaq_46"};var Se=N(xt());var wu=N(Wu()),Su=N(Uu()),_u=N(Bu()),xu=N(Hu()),Ou=N(Yu()),Eu=N($u());Se.default.extend(Eu.default);Se.default.extend(Ou.default);Se.default.extend(wu.default);Se.default.extend(Su.default);Se.default.extend(_u.default);Se.default.extend(xu.default);Se.default.extend(function(e,t){var r=t.prototype,n=r.format;r.format=function(c){var l=(c||"").replace("Wo","wo");return n.bind(this)(l)}});var Oh={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Wt=function(t){var r=Oh[t];return r||t.split("_")[0]},bu=function(){fa(!1,"Not match any format. Please help to fire a issue about this.")},Eh={getNow:function(){return(0,Se.default)()},getFixedDate:function(t){return(0,Se.default)(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var r=t.locale("en");return r.weekday()+r.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},addYear:function(t,r){return t.add(r,"year")},addMonth:function(t,r){return t.add(r,"month")},addDate:function(t,r){return t.add(r,"day")},setYear:function(t,r){return t.year(r)},setMonth:function(t,r){return t.month(r)},setDate:function(t,r){return t.date(r)},setHour:function(t,r){return t.hour(r)},setMinute:function(t,r){return t.minute(r)},setSecond:function(t,r){return t.second(r)},isAfter:function(t,r){return t.isAfter(r)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return(0,Se.default)().locale(Wt(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,r){return r.locale(Wt(t)).weekday(0)},getWeek:function(t,r){return r.locale(Wt(t)).week()},getShortWeekDays:function(t){return(0,Se.default)().locale(Wt(t)).localeData().weekdaysMin()},getShortMonths:function(t){return(0,Se.default)().locale(Wt(t)).localeData().monthsShort()},format:function(t,r,n){return r.locale(Wt(t)).format(n)},parse:function(t,r,n){for(var i=Wt(t),c=0;c<n.length;c+=1){var l=n[c],p=r;if(l.includes("wo")||l.includes("Wo")){for(var u=p.split("-")[0],m=p.split("-")[1],y=(0,Se.default)(u,"YYYY").startOf("year").locale(i),v=0;v<=52;v+=1){var _=y.add(v,"week");if(_.format("Wo")===m)return _}return bu(),null}var S=(0,Se.default)(p,l).locale(i);if(S.isValid())return S}return r&&bu(),null}}},Iu=Eh;var Ih=ha(Iu),Cu=Ih;var un=N(xt());var Pu=N(_e());function qi(e){let{accountId:t,creator:r,nickname:n}=e,[i,c]=(0,ne.useState)(!1),[l]=va(),p=localStorage.getItem(ea),[u,m]=(0,ne.useState)(""),y=(0,ne.useRef)(null),v=Qt();(0,ne.useEffect)(()=>{m((b=>{let g=Math.abs(Math.floor(b/60)),j=Math.abs(b%60);return`UTC${b<=0?"+":"-"}${String(g).padStart(2,"0")}:${String(j).padStart(2,"0")}`})(new Date().getTimezoneOffset()))},[]);let _=(0,ne.useCallback)(()=>{l.validateFields().then(I=>{if(!I.date){Re.error("Please select a time range");return}let[b,g]=I.date,j={accountId:t,startTime:(0,un.default)(b).startOf("day").valueOf(),endTime:(0,un.default)(g).endOf("day").valueOf(),minOffset:new Date().getTimezoneOffset()};Xt({url:"/fansly/report/transaction/export",method:"GET",params:j}).then(()=>{Re.success("export success"),c(!1)}).catch(L=>{let C=L?.response?.data?.message;Re.error(C||"export failed")})})},[t,l]),S=(0,ne.useCallback)(()=>{c(!1)},[]);return ne.default.createElement("div",{className:Yt["export-box"],ref:y},ne.default.createElement("div",{className:(0,Pu.default)(Yt["export-icon"],{[Yt["is-dark"]]:v}),onClick:()=>c(!0)},ne.default.createElement($a,null)," Export"),ne.default.createElement(da,{open:i,onOk:_,okText:"Export",onCancel:S,title:"Export wallet history",className:Yt.modal,getContainer:()=>y.current??document.body},ne.default.createElement(ga,{form:l,initialValues:{date:[(0,un.default)().subtract(7,"day"),(0,un.default)()]},layout:"vertical"},ne.default.createElement(ba,{label:`Date(${u})`,name:"date"},ne.default.createElement(Cu.RangePicker,{getPopupContainer:()=>y.current??document.body,allowClear:!1,format:"YYYY/MM/DD"})),ne.default.createElement("div",{className:Yt.creator},ne.default.createElement("span",null,"Creator: "),r," - ",n," ",ne.default.createElement(za,null)),ne.default.createElement("div",{className:Yt.description},"The download link may take a few minutes to be ready, depending on the size of your requested dataset. Once ready, it will be emailed to ",ne.default.createElement("span",null,p),"."))))}async function Au(){if((()=>{let i=document.querySelector("#earning_export");i&&i.remove()})(),!In.auth([1401]))return;let n=(await ke("app-wallet-transaction-history")).previousElementSibling;if(n){n.classList.contains(Eo["wallet-history"])||n.classList.add(Eo["wallet-history"]);let i=document.createElement("div");i.innerHTML="",i.id="earning_export",i.className=Eo["export-icon"];let c=je();Nu.default.render(ju.default.createElement(qi,{...c}),i),n.appendChild(i)}}var Lu=async()=>{let e=await be.invoke("GET_CUSTOM_STORE","THEME_PLATFORM_SYNC");gu("fansly",(t,r)=>{switch(t){case"Theme":r.enabled=e.data?.platforms?.FANSLY;break;default:break}})},Ch=async()=>{location.href,Lu()};Io.exposeInMainWorld("onHistoryChange",Ch);Io.exposeInMainWorld(Ji,{api:ko});Io.exposeInMainWorld(Qi,{api:ko});Io.exposeInMainWorld(Zi,{onResponse:e=>{pu(e)},onRequest:e=>{du(e)}});var Ph=async()=>{let e=await ke("app-root")},fn="";function jh(e=!1){be.on("UPDATE_FANSLY_URL",async t=>{if(t===fn)return;let r=new URL(t),{pathname:n}=r,i=je(),{username:c,employeeId:l}=i,p=hu(n,c);try{if(Qa(n)===!1){history.back(),Re.error("You don't have permission to access this feature");let u=null,m=null;try{u=(await Xa(l))?.data||null}catch(y){m=y}Ao({message:"fansly onPageGo do not have permission!",data:{url:t,username:c,lastUrl:fn,employeeId:l,accountInfo:i,rolePermissions:u,rolePermissionsError:m}});return}}catch(u){Ao({message:"fansly onPageGo error",data:{url:t,lastUrl:fn},error:u});return}fn=t,be.send("UPDATE_FANSLY_URL",{url:t,router:p}),location.pathname==="/messages"?gr({userId:void 0,accountId:"",modelId:"",groupId:"",authorization:""}):location.pathname==="/creator/earnings/wallet"&&Au()})}(async()=>{na();let t=je()?.employeeId;t&&Ja(t),Lu(),Ph(),jh(),fs(),window.themeObj={};try{import("./es-DDMEU6NI.mjs").then(r=>{window.themeObj=r,mu(r)})}catch(r){}})();export{Ch as onHistoryChange,jh as onPageGo};
